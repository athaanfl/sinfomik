{"ast":null,"code":"import _objectSpread from\"C:/Users/Han/Desktop/sinfomik/backup5/backup5/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// frontend/src/features/guru/WaliKelasGradeView.js\nimport React,{useState,useEffect,useCallback,useMemo}from'react';import{BarChart,Bar,XAxis,YAxis,CartesianGrid,Tooltip,Legend,ResponsiveContainer,PieChart,Pie,Cell}from'recharts';import*as guruApi from'../../api/guru';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const COLORS=['#0088FE','#00C49F','#FFBB28','#FF8042','#8884d8','#82ca9d','#ffc658'];const WaliKelasGradeView=_ref=>{let{activeTASemester,userId}=_ref;const[gradesData,setGradesData]=useState(null);// Raw data from API\nconst[classInfo,setClassInfo]=useState(null);// Class info from API\nconst[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[processedData,setProcessedData]=useState({gradesPerSubjectTable:new Map(),// Map<nama_mapel, Array<studentGradeData>>\nsummaryTableData:[],// Array<summaryStudentData>\nuniqueTipeNilaiPerMapel:new Map(),// Map<nama_mapel, Set<nama_tipe>>\ngradesByStudentChart:[],gradesBySubjectChart:[],gradeDistributionChart:[]});const[sortConfig,setSortConfig]=useState({key:null,direction:'ascending'});const fetchWaliKelasGrades=useCallback(async()=>{setLoading(true);setError(null);try{if(!userId||!activeTASemester){setError(\"Informasi guru atau tahun ajaran aktif tidak tersedia.\");setLoading(false);return;}const response=await guruApi.getWaliKelasGrades(userId,activeTASemester.id_ta_semester);setGradesData(response.grades);setClassInfo(response.classInfo);processGradeData(response.grades);}catch(err){setError(err.message);setGradesData([]);setClassInfo(null);setProcessedData({gradesPerSubjectTable:new Map(),summaryTableData:[],uniqueTipeNilaiPerMapel:new Map(),gradesByStudentChart:[],gradesBySubjectChart:[],gradeDistributionChart:[]});}finally{setLoading(false);}},[activeTASemester,userId]);useEffect(()=>{fetchWaliKelasGrades();},[fetchWaliKelasGrades]);const processGradeData=grades=>{const gradesPerSubjectTable=new Map();// { 'Matematika': [{id_siswa, nama_siswa, 'Tugas Harian': 80, 'UTS': 75, total_mapel, count_mapel}, ...]}\nconst summaryStudentMap=new Map();// { id_siswa: { nama_siswa, overall_total, overall_count, 'Fisika_RataRata': 85, ... } }\nconst subjectChartMap=new Map();// { nama_mapel: { total_nilai, count } }\n// gradeDistributionCounts akan dihitung dari rata-rata akhir siswa, bukan nilai individual\nconst uniqueTipeNilaiPerMapel=new Map();// { 'Matematika': Set('Tugas Harian', 'UTS'), ... }\n// First pass: Populate detailed subject data and initial summary data\ngrades.forEach(grade=>{// Ensure grade.nama_mapel and grade.nama_tipe are not null/undefined\nif(!grade.nama_mapel||!grade.nama_tipe)return;// Initialize structures if not present\nif(!gradesPerSubjectTable.has(grade.nama_mapel)){gradesPerSubjectTable.set(grade.nama_mapel,new Map());// Inner map for students\n}const studentsInSubjectMap=gradesPerSubjectTable.get(grade.nama_mapel);if(!studentsInSubjectMap.has(grade.id_siswa)){studentsInSubjectMap.set(grade.id_siswa,{id_siswa:grade.id_siswa,nama_siswa:grade.nama_siswa,total_mapel_nilai:0,count_mapel_nilai:0});}const studentSubjectData=studentsInSubjectMap.get(grade.id_siswa);studentSubjectData[grade.nama_tipe]=grade.nilai;// Assign grade by type\nstudentSubjectData.total_mapel_nilai+=grade.nilai;studentSubjectData.count_mapel_nilai++;// Collect unique grade types per subject\nif(!uniqueTipeNilaiPerMapel.has(grade.nama_mapel)){uniqueTipeNilaiPerMapel.set(grade.nama_mapel,new Set());}uniqueTipeNilaiPerMapel.get(grade.nama_mapel).add(grade.nama_tipe);// Populate summaryStudentMap (for overall student averages and per-subject averages)\nif(!summaryStudentMap.has(grade.id_siswa)){summaryStudentMap.set(grade.id_siswa,{id_siswa:grade.id_siswa,nama_siswa:grade.nama_siswa,overall_total:0,overall_count:0,subject_totals:new Map()// { 'Fisika': { total: 0, count: 0 } }\n});}const studentSummary=summaryStudentMap.get(grade.id_siswa);studentSummary.overall_total+=grade.nilai;studentSummary.overall_count++;if(!studentSummary.subject_totals.has(grade.nama_mapel)){studentSummary.subject_totals.set(grade.nama_mapel,{total:0,count:0});}const subjectTotal=studentSummary.subject_totals.get(grade.nama_mapel);subjectTotal.total+=grade.nilai;subjectTotal.count++;// Populate subjectChartMap (for overall subject average chart)\nif(!subjectChartMap.has(grade.nama_mapel)){subjectChartMap.set(grade.nama_mapel,{total_nilai:0,count:0});}const subjectChart=subjectChartMap.get(grade.nama_mapel);subjectChart.total_nilai+=grade.nilai;subjectChart.count++;});// Finalize gradesPerSubjectTable\nconst finalGradesPerSubjectTable=new Map();gradesPerSubjectTable.forEach((studentsMap,nama_mapel)=>{const studentList=Array.from(studentsMap.values()).map(student=>_objectSpread(_objectSpread({},student),{},{rata_rata_mapel:student.count_mapel_nilai>0?parseFloat((student.total_mapel_nilai/student.count_mapel_nilai).toFixed(2)):0})).sort((a,b)=>a.nama_siswa.localeCompare(b.nama_siswa));finalGradesPerSubjectTable.set(nama_mapel,studentList);});// Finalize summaryTableData\nconst summaryTableData=Array.from(summaryStudentMap.values()).map(student=>{const studentSummaryObj={id_siswa:student.id_siswa,nama_siswa:student.nama_siswa,overall_final_average:student.overall_count>0?parseFloat((student.overall_total/student.overall_count).toFixed(2)):0};student.subject_totals.forEach((data,nama_mapel)=>{studentSummaryObj[\"\".concat(nama_mapel,\"_RataRata\")]=data.count>0?parseFloat((data.total/data.count).toFixed(2)):null;});return studentSummaryObj;}).sort((a,b)=>a.nama_siswa.localeCompare(b.nama_siswa));// --- NEW LOGIC FOR GRADE DISTRIBUTION CHART (BASED ON STUDENT FINAL AVERAGE) ---\nconst gradeDistributionCounts={'A (90-100)':0,'B (80-89)':0,'C (70-79)':0,'D (60-69)':0,'E (<60)':0};summaryTableData.forEach(student=>{const average=student.overall_final_average;if(average>=90)gradeDistributionCounts['A (90-100)']++;else if(average>=80)gradeDistributionCounts['B (80-89)']++;else if(average>=70)gradeDistributionCounts['C (70-79)']++;else if(average>=60)gradeDistributionCounts['D (60-69)']++;else gradeDistributionCounts['E (<60)']++;});const totalStudentsForDistribution=Object.values(gradeDistributionCounts).reduce((sum,count)=>sum+count,0);const gradeDistributionChart=Object.entries(gradeDistributionCounts).map(_ref2=>{let[range,count]=_ref2;return{name:range,value:count,percentage:totalStudentsForDistribution>0?parseFloat((count/totalStudentsForDistribution*100).toFixed(2)):0};});// --- END NEW LOGIC ---\n// Chart data (re-using existing logic)\nconst gradesByStudentChart=Array.from(summaryStudentMap.values()).map(student=>({nama_siswa:student.nama_siswa,rata_rata:student.overall_count>0?parseFloat((student.overall_total/student.overall_count).toFixed(2)):0})).sort((a,b)=>a.nama_siswa.localeCompare(b.nama_siswa));const gradesBySubjectChart=Array.from(subjectChartMap.entries()).map(_ref3=>{let[name,data]=_ref3;return{nama_mapel:name,rata_rata:data.count>0?parseFloat((data.total_nilai/data.count).toFixed(2)):0};}).sort((a,b)=>a.nama_mapel.localeCompare(b.nama_mapel));setProcessedData({gradesPerSubjectTable:finalGradesPerSubjectTable,summaryTableData,uniqueTipeNilaiPerMapel,gradesByStudentChart,gradesBySubjectChart,gradeDistributionChart// Use the newly calculated distribution\n});};const sortedSummaryData=useMemo(()=>{let sortableItems=[...processedData.summaryTableData];if(sortConfig.key!==null){sortableItems.sort((a,b)=>{let aValue=a[sortConfig.key];let bValue=b[sortConfig.key];if(typeof aValue==='string'){return sortConfig.direction==='ascending'?aValue.localeCompare(bValue):bValue.localeCompare(aValue);}else{// Numeric or null\naValue=aValue===null?-Infinity:aValue;// Treat null as very small for sorting\nbValue=bValue===null?-Infinity:bValue;if(aValue<bValue){return sortConfig.direction==='ascending'?-1:1;}if(aValue>bValue){return sortConfig.direction==='ascending'?1:-1;}return 0;}});}return sortableItems;},[processedData.summaryTableData,sortConfig]);const requestSort=key=>{let direction='ascending';if(sortConfig.key===key&&sortConfig.direction==='ascending'){direction='descending';}else if(sortConfig.key===key&&sortConfig.direction==='descending'){direction='none';// Add a 'none' state to remove sorting\nkey=null;// Reset key\n}setSortConfig({key,direction});};const getSortIndicator=key=>{if(sortConfig.key===key){if(sortConfig.direction==='ascending')return' ▲';if(sortConfig.direction==='descending')return' ▼';}return'';};if(loading)return/*#__PURE__*/_jsx(\"p\",{children:\"Memuat nilai kelas wali...\"});if(error)return/*#__PURE__*/_jsxs(\"p\",{className:\"message error\",children:[\"Error: \",error]});if(!classInfo)return/*#__PURE__*/_jsx(\"p\",{className:\"message info\",children:\"Anda bukan wali kelas untuk Tahun Ajaran & Semester aktif ini.\"});if(!gradesData||gradesData.length===0)return/*#__PURE__*/_jsxs(\"p\",{className:\"message info\",children:[\"Belum ada nilai yang diinput untuk kelas \",classInfo.nama_kelas,\" di semester ini.\"]});// Get all unique subject names for summary table headers\nconst allSubjectNames=Array.from(processedData.gradesPerSubjectTable.keys()).sort();return/*#__PURE__*/_jsxs(\"div\",{className:\"feature-content\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Nilai Kelas Wali: \",classInfo.nama_kelas]}),/*#__PURE__*/_jsxs(\"p\",{className:\"message info\",children:[\"Menampilkan semua nilai siswa di kelas \",classInfo.nama_kelas,\" untuk Tahun Ajaran & Semester \",activeTASemester.tahun_ajaran,\" \",activeTASemester.semester,\".\"]}),Array.from(processedData.gradesPerSubjectTable.entries()).map(_ref4=>{let[nama_mapel,studentsGradeList]=_ref4;const uniqueTipeNilai=Array.from(processedData.uniqueTipeNilaiPerMapel.get(nama_mapel)||[]).sort();const dynamicColumnsCount=uniqueTipeNilai.length;// Adjust column widths for per-subject tables\nconst perSubjectGridTemplateColumns=\"minmax(150px, 1.5fr) repeat(\".concat(dynamicColumnsCount,\", minmax(100px, 1fr)) minmax(120px, 0.8fr)\");return/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'40px'},children:[/*#__PURE__*/_jsxs(\"h4\",{children:[\"Detail Nilai \",nama_mapel]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grades-table-wrapper comprehensive-grades-table\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grades-grid-header comprehensive-grades-header\",style:{gridTemplateColumns:perSubjectGridTemplateColumns},children:[/*#__PURE__*/_jsx(\"div\",{className:\"grid-header-item\",children:\"Nama Siswa\"}),uniqueTipeNilai.map(tipe=>/*#__PURE__*/_jsx(\"div\",{className:\"grid-header-item grades-dynamic-header\",children:tipe},tipe)),/*#__PURE__*/_jsxs(\"div\",{className:\"grid-header-item\",children:[\"Rata-rata \",nama_mapel]})]}),studentsGradeList.map(student=>/*#__PURE__*/_jsxs(\"div\",{className:\"grades-grid-row comprehensive-grades-row\",style:{gridTemplateColumns:perSubjectGridTemplateColumns},children:[/*#__PURE__*/_jsx(\"div\",{className:\"grid-cell-item student-name\",children:student.nama_siswa}),uniqueTipeNilai.map(tipe=>/*#__PURE__*/_jsx(\"div\",{className:\"grid-cell-item\",children:student[tipe]!==undefined?student[tipe]:'-'},\"\".concat(student.id_siswa,\"-\").concat(tipe))),/*#__PURE__*/_jsx(\"div\",{className:\"grid-cell-item grades-average\",children:student.rata_rata_mapel})]},student.id_siswa))]})]},nama_mapel);}),/*#__PURE__*/_jsx(\"h3\",{style:{marginTop:'40px'},children:\"Ringkasan Nilai Siswa Keseluruhan\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grades-table-wrapper comprehensive-grades-table\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grades-grid-header comprehensive-grades-header\",style:{gridTemplateColumns:\"minmax(180px, 1.5fr) repeat(\".concat(allSubjectNames.length,\", minmax(120px, 1fr)) minmax(150px, 0.8fr)\")},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid-header-item sortable\",onClick:()=>requestSort('nama_siswa'),children:[\"Nama Siswa \",getSortIndicator('nama_siswa')]}),allSubjectNames.map(subject=>/*#__PURE__*/_jsxs(\"div\",{className:\"grid-header-item grades-dynamic-header sortable\",onClick:()=>requestSort(\"\".concat(subject,\"_RataRata\")),children:[subject,\" Rata-rata \",getSortIndicator(\"\".concat(subject,\"_RataRata\"))]},subject)),/*#__PURE__*/_jsxs(\"div\",{className:\"grid-header-item sortable\",onClick:()=>requestSort('overall_final_average'),children:[\"Rata-rata Akhir \",getSortIndicator('overall_final_average')]})]}),sortedSummaryData.map(student=>/*#__PURE__*/_jsxs(\"div\",{className:\"grades-grid-row comprehensive-grades-row\",style:{gridTemplateColumns:\"minmax(180px, 1.5fr) repeat(\".concat(allSubjectNames.length,\", minmax(120px, 1fr)) minmax(150px, 0.8fr)\")},children:[/*#__PURE__*/_jsx(\"div\",{className:\"grid-cell-item student-name\",children:student.nama_siswa}),allSubjectNames.map(subject=>/*#__PURE__*/_jsx(\"div\",{className:\"grid-cell-item\",children:student[\"\".concat(subject,\"_RataRata\")]!==null?student[\"\".concat(subject,\"_RataRata\")]:'-'},\"\".concat(student.id_siswa,\"-\").concat(subject,\"_RataRata\"))),/*#__PURE__*/_jsx(\"div\",{className:\"grid-cell-item grades-average\",children:student.overall_final_average})]},student.id_siswa))]}),/*#__PURE__*/_jsx(\"h4\",{style:{marginTop:'40px'},children:\"Statistik Nilai\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"charts-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"chart-card\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Rata-rata Nilai per Siswa (Keseluruhan)\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:300,children:/*#__PURE__*/_jsxs(BarChart,{data:processedData.gradesByStudentChart,margin:{top:5,right:30,left:20,bottom:5},children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\"}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"nama_siswa\",interval:0,angle:-30,textAnchor:\"end\",height:60}),/*#__PURE__*/_jsx(YAxis,{domain:[0,100]}),/*#__PURE__*/_jsx(Tooltip,{}),/*#__PURE__*/_jsx(Legend,{}),/*#__PURE__*/_jsx(Bar,{dataKey:\"rata_rata\",fill:\"#0088FE\",name:\"Rata-rata Nilai\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"chart-card\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Rata-rata Nilai per Mata Pelajaran (Kelas)\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:300,children:/*#__PURE__*/_jsxs(BarChart,{data:processedData.gradesBySubjectChart,margin:{top:5,right:30,left:20,bottom:5},children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\"}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"nama_mapel\"}),/*#__PURE__*/_jsx(YAxis,{domain:[0,100]}),/*#__PURE__*/_jsx(Tooltip,{}),/*#__PURE__*/_jsx(Legend,{}),/*#__PURE__*/_jsx(Bar,{dataKey:\"rata_rata\",fill:\"#00C49F\",name:\"Rata-rata Nilai\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"chart-card\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Distribusi Nilai (Berdasarkan Rata-rata Akhir Siswa)\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:300,children:/*#__PURE__*/_jsxs(PieChart,{children:[/*#__PURE__*/_jsx(Pie,{data:processedData.gradeDistributionChart,cx:\"50%\",cy:\"50%\",labelLine:false,outerRadius:100,fill:\"#8884d8\",dataKey:\"value\",nameKey:\"name\",label:_ref5=>{let{name,percentage}=_ref5;return\"\".concat(name,\" (\").concat(percentage.toFixed(0),\"%)\");},children:processedData.gradeDistributionChart.map((entry,index)=>/*#__PURE__*/_jsx(Cell,{fill:COLORS[index%COLORS.length]},\"cell-\".concat(index)))}),/*#__PURE__*/_jsx(Tooltip,{formatter:(value,name,props)=>[\"\".concat(value,\" siswa\"),props.payload.name]}),/*#__PURE__*/_jsx(Legend,{})]})})]})]})]});};export default WaliKelasGradeView;","map":{"version":3,"names":["React","useState","useEffect","useCallback","useMemo","BarChart","Bar","XAxis","YAxis","CartesianGrid","Tooltip","Legend","ResponsiveContainer","PieChart","Pie","Cell","guruApi","jsx","_jsx","jsxs","_jsxs","COLORS","WaliKelasGradeView","_ref","activeTASemester","userId","gradesData","setGradesData","classInfo","setClassInfo","loading","setLoading","error","setError","processedData","setProcessedData","gradesPerSubjectTable","Map","summaryTableData","uniqueTipeNilaiPerMapel","gradesByStudentChart","gradesBySubjectChart","gradeDistributionChart","sortConfig","setSortConfig","key","direction","fetchWaliKelasGrades","response","getWaliKelasGrades","id_ta_semester","grades","processGradeData","err","message","summaryStudentMap","subjectChartMap","forEach","grade","nama_mapel","nama_tipe","has","set","studentsInSubjectMap","get","id_siswa","nama_siswa","total_mapel_nilai","count_mapel_nilai","studentSubjectData","nilai","Set","add","overall_total","overall_count","subject_totals","studentSummary","total","count","subjectTotal","total_nilai","subjectChart","finalGradesPerSubjectTable","studentsMap","studentList","Array","from","values","map","student","_objectSpread","rata_rata_mapel","parseFloat","toFixed","sort","a","b","localeCompare","studentSummaryObj","overall_final_average","data","concat","gradeDistributionCounts","average","totalStudentsForDistribution","Object","reduce","sum","entries","_ref2","range","name","value","percentage","rata_rata","_ref3","sortedSummaryData","sortableItems","aValue","bValue","Infinity","requestSort","getSortIndicator","children","className","length","nama_kelas","allSubjectNames","keys","tahun_ajaran","semester","_ref4","studentsGradeList","uniqueTipeNilai","dynamicColumnsCount","perSubjectGridTemplateColumns","style","marginBottom","gridTemplateColumns","tipe","undefined","marginTop","onClick","subject","width","height","margin","top","right","left","bottom","strokeDasharray","dataKey","interval","angle","textAnchor","domain","fill","cx","cy","labelLine","outerRadius","nameKey","label","_ref5","entry","index","formatter","props","payload"],"sources":["C:/Users/Han/Desktop/sinfomik/backup5/backup5/frontend/src/features/guru/WaliKelasGradeView.js"],"sourcesContent":["// frontend/src/features/guru/WaliKelasGradeView.js\nimport React, { useState, useEffect, useCallback, useMemo } from 'react';\nimport {\n  BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, PieChart, Pie, Cell,\n} from 'recharts';\nimport * as guruApi from '../../api/guru';\n\nconst COLORS = ['#0088FE', '#00C49F', '#FFBB28', '#FF8042', '#8884d8', '#82ca9d', '#ffc658'];\n\nconst WaliKelasGradeView = ({ activeTASemester, userId }) => {\n  const [gradesData, setGradesData] = useState(null); // Raw data from API\n  const [classInfo, setClassInfo] = useState(null); // Class info from API\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [processedData, setProcessedData] = useState({\n    gradesPerSubjectTable: new Map(), // Map<nama_mapel, Array<studentGradeData>>\n    summaryTableData: [],             // Array<summaryStudentData>\n    uniqueTipeNilaiPerMapel: new Map(), // Map<nama_mapel, Set<nama_tipe>>\n    gradesByStudentChart: [],\n    gradesBySubjectChart: [],\n    gradeDistributionChart: [],\n  });\n  const [sortConfig, setSortConfig] = useState({ key: null, direction: 'ascending' });\n\n  const fetchWaliKelasGrades = useCallback(async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      if (!userId || !activeTASemester) {\n        setError(\"Informasi guru atau tahun ajaran aktif tidak tersedia.\");\n        setLoading(false);\n        return;\n      }\n      const response = await guruApi.getWaliKelasGrades(userId, activeTASemester.id_ta_semester);\n      setGradesData(response.grades);\n      setClassInfo(response.classInfo);\n      processGradeData(response.grades);\n    } catch (err) {\n      setError(err.message);\n      setGradesData([]);\n      setClassInfo(null);\n      setProcessedData({\n        gradesPerSubjectTable: new Map(),\n        summaryTableData: [],\n        uniqueTipeNilaiPerMapel: new Map(),\n        gradesByStudentChart: [],\n        gradesBySubjectChart: [],\n        gradeDistributionChart: [],\n      });\n    } finally {\n      setLoading(false);\n    }\n  }, [activeTASemester, userId]);\n\n  useEffect(() => {\n    fetchWaliKelasGrades();\n  }, [fetchWaliKelasGrades]);\n\n  const processGradeData = (grades) => {\n    const gradesPerSubjectTable = new Map(); // { 'Matematika': [{id_siswa, nama_siswa, 'Tugas Harian': 80, 'UTS': 75, total_mapel, count_mapel}, ...]}\n    const summaryStudentMap = new Map(); // { id_siswa: { nama_siswa, overall_total, overall_count, 'Fisika_RataRata': 85, ... } }\n    const subjectChartMap = new Map(); // { nama_mapel: { total_nilai, count } }\n    // gradeDistributionCounts akan dihitung dari rata-rata akhir siswa, bukan nilai individual\n    const uniqueTipeNilaiPerMapel = new Map(); // { 'Matematika': Set('Tugas Harian', 'UTS'), ... }\n\n    // First pass: Populate detailed subject data and initial summary data\n    grades.forEach(grade => {\n      // Ensure grade.nama_mapel and grade.nama_tipe are not null/undefined\n      if (!grade.nama_mapel || !grade.nama_tipe) return;\n\n      // Initialize structures if not present\n      if (!gradesPerSubjectTable.has(grade.nama_mapel)) {\n        gradesPerSubjectTable.set(grade.nama_mapel, new Map()); // Inner map for students\n      }\n      const studentsInSubjectMap = gradesPerSubjectTable.get(grade.nama_mapel);\n\n      if (!studentsInSubjectMap.has(grade.id_siswa)) {\n        studentsInSubjectMap.set(grade.id_siswa, {\n          id_siswa: grade.id_siswa,\n          nama_siswa: grade.nama_siswa,\n          total_mapel_nilai: 0,\n          count_mapel_nilai: 0,\n        });\n      }\n      const studentSubjectData = studentsInSubjectMap.get(grade.id_siswa);\n      studentSubjectData[grade.nama_tipe] = grade.nilai; // Assign grade by type\n      studentSubjectData.total_mapel_nilai += grade.nilai;\n      studentSubjectData.count_mapel_nilai++;\n\n      // Collect unique grade types per subject\n      if (!uniqueTipeNilaiPerMapel.has(grade.nama_mapel)) {\n        uniqueTipeNilaiPerMapel.set(grade.nama_mapel, new Set());\n      }\n      uniqueTipeNilaiPerMapel.get(grade.nama_mapel).add(grade.nama_tipe);\n\n      // Populate summaryStudentMap (for overall student averages and per-subject averages)\n      if (!summaryStudentMap.has(grade.id_siswa)) {\n        summaryStudentMap.set(grade.id_siswa, {\n          id_siswa: grade.id_siswa,\n          nama_siswa: grade.nama_siswa,\n          overall_total: 0,\n          overall_count: 0,\n          subject_totals: new Map(), // { 'Fisika': { total: 0, count: 0 } }\n        });\n      }\n      const studentSummary = summaryStudentMap.get(grade.id_siswa);\n      studentSummary.overall_total += grade.nilai;\n      studentSummary.overall_count++;\n\n      if (!studentSummary.subject_totals.has(grade.nama_mapel)) {\n        studentSummary.subject_totals.set(grade.nama_mapel, { total: 0, count: 0 });\n      }\n      const subjectTotal = studentSummary.subject_totals.get(grade.nama_mapel);\n      subjectTotal.total += grade.nilai;\n      subjectTotal.count++;\n\n      // Populate subjectChartMap (for overall subject average chart)\n      if (!subjectChartMap.has(grade.nama_mapel)) {\n        subjectChartMap.set(grade.nama_mapel, { total_nilai: 0, count: 0 });\n      }\n      const subjectChart = subjectChartMap.get(grade.nama_mapel);\n      subjectChart.total_nilai += grade.nilai;\n      subjectChart.count++;\n    });\n\n    // Finalize gradesPerSubjectTable\n    const finalGradesPerSubjectTable = new Map();\n    gradesPerSubjectTable.forEach((studentsMap, nama_mapel) => {\n      const studentList = Array.from(studentsMap.values()).map(student => ({\n        ...student,\n        rata_rata_mapel: student.count_mapel_nilai > 0 ? parseFloat((student.total_mapel_nilai / student.count_mapel_nilai).toFixed(2)) : 0,\n      })).sort((a, b) => a.nama_siswa.localeCompare(b.nama_siswa));\n      finalGradesPerSubjectTable.set(nama_mapel, studentList);\n    });\n\n    // Finalize summaryTableData\n    const summaryTableData = Array.from(summaryStudentMap.values()).map(student => {\n      const studentSummaryObj = {\n        id_siswa: student.id_siswa,\n        nama_siswa: student.nama_siswa,\n        overall_final_average: student.overall_count > 0 ? parseFloat((student.overall_total / student.overall_count).toFixed(2)) : 0,\n      };\n      student.subject_totals.forEach((data, nama_mapel) => {\n        studentSummaryObj[`${nama_mapel}_RataRata`] = data.count > 0 ? parseFloat((data.total / data.count).toFixed(2)) : null;\n      });\n      return studentSummaryObj;\n    }).sort((a, b) => a.nama_siswa.localeCompare(b.nama_siswa));\n\n    // --- NEW LOGIC FOR GRADE DISTRIBUTION CHART (BASED ON STUDENT FINAL AVERAGE) ---\n    const gradeDistributionCounts = { 'A (90-100)': 0, 'B (80-89)': 0, 'C (70-79)': 0, 'D (60-69)': 0, 'E (<60)': 0 };\n    summaryTableData.forEach(student => {\n      const average = student.overall_final_average;\n      if (average >= 90) gradeDistributionCounts['A (90-100)']++;\n      else if (average >= 80) gradeDistributionCounts['B (80-89)']++;\n      else if (average >= 70) gradeDistributionCounts['C (70-79)']++;\n      else if (average >= 60) gradeDistributionCounts['D (60-69)']++;\n      else gradeDistributionCounts['E (<60)']++;\n    });\n    const totalStudentsForDistribution = Object.values(gradeDistributionCounts).reduce((sum, count) => sum + count, 0);\n    const gradeDistributionChart = Object.entries(gradeDistributionCounts).map(([range, count]) => ({\n      name: range,\n      value: count,\n      percentage: totalStudentsForDistribution > 0 ? parseFloat(((count / totalStudentsForDistribution) * 100).toFixed(2)) : 0,\n    }));\n    // --- END NEW LOGIC ---\n\n    // Chart data (re-using existing logic)\n    const gradesByStudentChart = Array.from(summaryStudentMap.values()).map(student => ({\n      nama_siswa: student.nama_siswa,\n      rata_rata: student.overall_count > 0 ? parseFloat((student.overall_total / student.overall_count).toFixed(2)) : 0,\n    })).sort((a, b) => a.nama_siswa.localeCompare(b.nama_siswa));\n\n    const gradesBySubjectChart = Array.from(subjectChartMap.entries()).map(([name, data]) => ({\n      nama_mapel: name,\n      rata_rata: data.count > 0 ? parseFloat((data.total_nilai / data.count).toFixed(2)) : 0,\n    })).sort((a, b) => a.nama_mapel.localeCompare(b.nama_mapel));\n\n    setProcessedData({\n      gradesPerSubjectTable: finalGradesPerSubjectTable,\n      summaryTableData,\n      uniqueTipeNilaiPerMapel,\n      gradesByStudentChart,\n      gradesBySubjectChart,\n      gradeDistributionChart, // Use the newly calculated distribution\n    });\n  };\n\n  const sortedSummaryData = useMemo(() => {\n    let sortableItems = [...processedData.summaryTableData];\n    if (sortConfig.key !== null) {\n      sortableItems.sort((a, b) => {\n        let aValue = a[sortConfig.key];\n        let bValue = b[sortConfig.key];\n\n        if (typeof aValue === 'string') {\n          return sortConfig.direction === 'ascending' ? aValue.localeCompare(bValue) : bValue.localeCompare(aValue);\n        } else { // Numeric or null\n          aValue = aValue === null ? -Infinity : aValue; // Treat null as very small for sorting\n          bValue = bValue === null ? -Infinity : bValue;\n\n          if (aValue < bValue) {\n            return sortConfig.direction === 'ascending' ? -1 : 1;\n          }\n          if (aValue > bValue) {\n            return sortConfig.direction === 'ascending' ? 1 : -1;\n          }\n          return 0;\n        }\n      });\n    }\n    return sortableItems;\n  }, [processedData.summaryTableData, sortConfig]);\n\n  const requestSort = (key) => {\n    let direction = 'ascending';\n    if (sortConfig.key === key && sortConfig.direction === 'ascending') {\n      direction = 'descending';\n    } else if (sortConfig.key === key && sortConfig.direction === 'descending') {\n        direction = 'none'; // Add a 'none' state to remove sorting\n        key = null; // Reset key\n    }\n    setSortConfig({ key, direction });\n  };\n\n  const getSortIndicator = (key) => {\n    if (sortConfig.key === key) {\n      if (sortConfig.direction === 'ascending') return ' ▲';\n      if (sortConfig.direction === 'descending') return ' ▼';\n    }\n    return '';\n  };\n\n  if (loading) return <p>Memuat nilai kelas wali...</p>;\n  if (error) return <p className=\"message error\">Error: {error}</p>;\n  if (!classInfo) return <p className=\"message info\">Anda bukan wali kelas untuk Tahun Ajaran & Semester aktif ini.</p>;\n  if (!gradesData || gradesData.length === 0) return <p className=\"message info\">Belum ada nilai yang diinput untuk kelas {classInfo.nama_kelas} di semester ini.</p>;\n\n  // Get all unique subject names for summary table headers\n  const allSubjectNames = Array.from(processedData.gradesPerSubjectTable.keys()).sort();\n\n  return (\n    <div className=\"feature-content\">\n      <h2>Nilai Kelas Wali: {classInfo.nama_kelas}</h2>\n      <p className=\"message info\">Menampilkan semua nilai siswa di kelas {classInfo.nama_kelas} untuk Tahun Ajaran & Semester {activeTASemester.tahun_ajaran} {activeTASemester.semester}.</p>\n\n      {/* Bagian Tabel Nilai per Mata Pelajaran */}\n      {Array.from(processedData.gradesPerSubjectTable.entries()).map(([nama_mapel, studentsGradeList]) => {\n        const uniqueTipeNilai = Array.from(processedData.uniqueTipeNilaiPerMapel.get(nama_mapel) || []).sort();\n        const dynamicColumnsCount = uniqueTipeNilai.length;\n        // Adjust column widths for per-subject tables\n        const perSubjectGridTemplateColumns = `minmax(150px, 1.5fr) repeat(${dynamicColumnsCount}, minmax(100px, 1fr)) minmax(120px, 0.8fr)`;\n\n        return (\n          <div key={nama_mapel} style={{ marginBottom: '40px' }}>\n            <h4>Detail Nilai {nama_mapel}</h4>\n            <div className=\"grades-table-wrapper comprehensive-grades-table\">\n              <div className=\"grades-grid-header comprehensive-grades-header\" style={{ gridTemplateColumns: perSubjectGridTemplateColumns }}>\n                <div className=\"grid-header-item\">Nama Siswa</div>\n                {uniqueTipeNilai.map(tipe => (\n                  <div key={tipe} className=\"grid-header-item grades-dynamic-header\">{tipe}</div>\n                ))}\n                <div className=\"grid-header-item\">Rata-rata {nama_mapel}</div>\n              </div>\n              {studentsGradeList.map(student => (\n                <div key={student.id_siswa} className=\"grades-grid-row comprehensive-grades-row\" style={{ gridTemplateColumns: perSubjectGridTemplateColumns }}>\n                  <div className=\"grid-cell-item student-name\">{student.nama_siswa}</div>\n                  {uniqueTipeNilai.map(tipe => (\n                    <div key={`${student.id_siswa}-${tipe}`} className=\"grid-cell-item\">\n                      {student[tipe] !== undefined ? student[tipe] : '-'}\n                    </div>\n                  ))}\n                  <div className=\"grid-cell-item grades-average\">{student.rata_rata_mapel}</div>\n                </div>\n              ))}\n            </div>\n          </div>\n        );\n      })}\n\n      {/* Bagian Tabel Ringkasan Akhir */}\n      <h3 style={{ marginTop: '40px' }}>Ringkasan Nilai Siswa Keseluruhan</h3>\n      <div className=\"grades-table-wrapper comprehensive-grades-table\">\n        <div className=\"grades-grid-header comprehensive-grades-header\"\n             style={{ gridTemplateColumns: `minmax(180px, 1.5fr) repeat(${allSubjectNames.length}, minmax(120px, 1fr)) minmax(150px, 0.8fr)` }}>\n          <div className=\"grid-header-item sortable\" onClick={() => requestSort('nama_siswa')}>\n            Nama Siswa {getSortIndicator('nama_siswa')}\n          </div>\n          {allSubjectNames.map(subject => (\n            <div key={subject} className=\"grid-header-item grades-dynamic-header sortable\" onClick={() => requestSort(`${subject}_RataRata`)}>\n              {subject} Rata-rata {getSortIndicator(`${subject}_RataRata`)}\n            </div>\n          ))}\n          <div className=\"grid-header-item sortable\" onClick={() => requestSort('overall_final_average')}>\n            Rata-rata Akhir {getSortIndicator('overall_final_average')}\n          </div>\n        </div>\n        {sortedSummaryData.map(student => (\n          <div key={student.id_siswa} className=\"grades-grid-row comprehensive-grades-row\"\n               style={{ gridTemplateColumns: `minmax(180px, 1.5fr) repeat(${allSubjectNames.length}, minmax(120px, 1fr)) minmax(150px, 0.8fr)` }}>\n            <div className=\"grid-cell-item student-name\">{student.nama_siswa}</div>\n            {allSubjectNames.map(subject => (\n              <div key={`${student.id_siswa}-${subject}_RataRata`} className=\"grid-cell-item\">\n                {student[`${subject}_RataRata`] !== null ? student[`${subject}_RataRata`] : '-'}\n              </div>\n            ))}\n            <div className=\"grid-cell-item grades-average\">{student.overall_final_average}</div>\n          </div>\n        ))}\n      </div>\n\n\n      {/* Bagian Grafik */}\n      <h4 style={{ marginTop: '40px' }}>Statistik Nilai</h4>\n      <div className=\"charts-container\">\n        <div className=\"chart-card\">\n          <h5>Rata-rata Nilai per Siswa (Keseluruhan)</h5>\n          <ResponsiveContainer width=\"100%\" height={300}>\n            <BarChart data={processedData.gradesByStudentChart} margin={{ top: 5, right: 30, left: 20, bottom: 5 }}>\n              <CartesianGrid strokeDasharray=\"3 3\" />\n              <XAxis dataKey=\"nama_siswa\" interval={0} angle={-30} textAnchor=\"end\" height={60} />\n              <YAxis domain={[0, 100]} />\n              <Tooltip />\n              <Legend />\n              <Bar dataKey=\"rata_rata\" fill=\"#0088FE\" name=\"Rata-rata Nilai\" />\n            </BarChart>\n          </ResponsiveContainer>\n        </div>\n\n        <div className=\"chart-card\">\n          <h5>Rata-rata Nilai per Mata Pelajaran (Kelas)</h5>\n          <ResponsiveContainer width=\"100%\" height={300}>\n            <BarChart data={processedData.gradesBySubjectChart} margin={{ top: 5, right: 30, left: 20, bottom: 5 }}>\n              <CartesianGrid strokeDasharray=\"3 3\" />\n              <XAxis dataKey=\"nama_mapel\" />\n              <YAxis domain={[0, 100]} />\n              <Tooltip />\n              <Legend />\n              <Bar dataKey=\"rata_rata\" fill=\"#00C49F\" name=\"Rata-rata Nilai\" />\n            </BarChart>\n          </ResponsiveContainer>\n        </div>\n\n        <div className=\"chart-card\">\n          <h5>Distribusi Nilai (Berdasarkan Rata-rata Akhir Siswa)</h5>\n          <ResponsiveContainer width=\"100%\" height={300}>\n            <PieChart>\n              <Pie\n                data={processedData.gradeDistributionChart}\n                cx=\"50%\"\n                cy=\"50%\"\n                labelLine={false}\n                outerRadius={100}\n                fill=\"#8884d8\"\n                dataKey=\"value\"\n                nameKey=\"name\"\n                label={({ name, percentage }) => `${name} (${percentage.toFixed(0)}%)`}\n              >\n                {processedData.gradeDistributionChart.map((entry, index) => (\n                  <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />\n                ))}\n              </Pie>\n              {/* Perbaikan di sini: Mengubah label tooltip menjadi \"siswa\" */}\n              <Tooltip formatter={(value, name, props) => [`${value} siswa`, props.payload.name]} />\n              <Legend />\n            </PieChart>\n          </ResponsiveContainer>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default WaliKelasGradeView;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}