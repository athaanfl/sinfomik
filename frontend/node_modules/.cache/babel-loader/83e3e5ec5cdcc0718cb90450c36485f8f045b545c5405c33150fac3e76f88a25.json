{"ast":null,"code":"import _objectSpread from\"C:/Users/Han/Desktop/sinfomik/backup5/backup5/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// frontend/src/features/guru/inputNilai.js\nimport React,{useState,useEffect,useCallback}from'react';// Import useCallback\nimport*as guruApi from'../../api/guru';// Import API guru\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const InputNilai=_ref=>{let{activeTASemester,userId}=_ref;const[assignments,setAssignments]=useState([]);const[selectedAssignment,setSelectedAssignment]=useState('');const[studentsInClass,setStudentsInClass]=useState([]);const[tpColumns,setTpColumns]=useState([1]);// Array of TP numbers, minimum 1 TP\nconst[gradesInput,setGradesInput]=useState({});// { studentId_column: value }\nconst[kkm,setKkm]=useState({UAS:75,FINAL:75});// { TP1: 75, TP2: 75, UAS: 75, FINAL: 75 }\nconst[showKkmSettings,setShowKkmSettings]=useState(false);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[message,setMessage]=useState('');const[messageType,setMessageType]=useState('');// Wrap fetchData with useCallback to prevent re-creation on every render\nconst fetchData=useCallback(async()=>{setLoading(true);setError(null);try{if(!userId||!activeTASemester){setError(\"Informasi guru atau tahun ajaran aktif tidak tersedia.\");return;}const assignmentsData=await guruApi.getGuruAssignments(userId,activeTASemester.id_ta_semester);setAssignments(assignmentsData);if(assignmentsData.length>0&&!selectedAssignment){setSelectedAssignment(\"\".concat(assignmentsData[0].id_kelas,\"-\").concat(assignmentsData[0].id_mapel));}}catch(err){setError(err.message);}finally{setLoading(false);}},[activeTASemester,userId,selectedAssignment]);// Add selectedAssignment to dependencies\nuseEffect(()=>{fetchData();},[fetchData]);// Now fetchData is a stable dependency\nuseEffect(()=>{const fetchStudents=async()=>{if(selectedAssignment&&activeTASemester){const[kelasId]=selectedAssignment.split('-').map(Number);try{const studentsData=await guruApi.getStudentsInClass(kelasId,activeTASemester.id_ta_semester);setStudentsInClass(studentsData);// Reset grades input when changing assignment\nsetGradesInput({});// Load existing grades for this assignment\nawait loadExistingGrades(kelasId,selectedAssignment.split('-')[1]);}catch(err){setError(err.message);setStudentsInClass([]);}}else{setStudentsInClass([]);}};fetchStudents();},[selectedAssignment,activeTASemester]);// Function to load existing grades for the selected assignment\nconst loadExistingGrades=async(kelasId,mapelId)=>{try{const existingGrades=await guruApi.getGradesByAssignment(userId,mapelId,kelasId,activeTASemester.id_ta_semester);const gradesData={};let maxTpNumber=1;existingGrades.forEach(grade=>{if(grade.jenis_nilai==='TP'){maxTpNumber=Math.max(maxTpNumber,grade.urutan_tp);gradesData[\"\".concat(grade.id_siswa,\"_TP\").concat(grade.urutan_tp)]=grade.nilai;}else if(grade.jenis_nilai==='UAS'){gradesData[\"\".concat(grade.id_siswa,\"_UAS\")]=grade.nilai;}});// Update TP columns based on existing data\nsetTpColumns(Array.from({length:maxTpNumber},(_,i)=>i+1));setGradesInput(gradesData);}catch(err){// If no existing grades found, that's fine - just use defaults\nconsole.log('No existing grades found or error loading:',err.message);}};// Function to add new TP column\nconst addTpColumn=()=>{const nextTpNumber=Math.max(...tpColumns)+1;setTpColumns([...tpColumns,nextTpNumber]);// Set default KKM for new TP\nsetKkm(prev=>_objectSpread(_objectSpread({},prev),{},{[\"TP\".concat(nextTpNumber)]:75}));};// Function to remove TP column (except TP1)\nconst removeTpColumn=tpNumber=>{if(tpNumber===1)return;// Cannot remove TP1\nsetTpColumns(tpColumns.filter(tp=>tp!==tpNumber));// Remove grades for this TP column\nconst newGradesInput=_objectSpread({},gradesInput);Object.keys(newGradesInput).forEach(key=>{if(key.includes(\"_TP\".concat(tpNumber))){delete newGradesInput[key];}});setGradesInput(newGradesInput);// Remove KKM for this TP\nconst newKkm=_objectSpread({},kkm);delete newKkm[\"TP\".concat(tpNumber)];setKkm(newKkm);};// Initialize KKM for existing TPs\nuseEffect(()=>{const newKkm=_objectSpread({},kkm);tpColumns.forEach(tpNum=>{if(!newKkm[\"TP\".concat(tpNum)]){newKkm[\"TP\".concat(tpNum)]=75;// Default KKM\n}});setKkm(newKkm);},[tpColumns]);// Function to update KKM\nconst handleKkmChange=(column,value)=>{// Allow empty string or valid numbers 0-100\nif(value===''||!isNaN(parseFloat(value))&&parseFloat(value)>=0&&parseFloat(value)<=100){setKkm(prev=>_objectSpread(_objectSpread({},prev),{},{[column]:value===''?'':parseFloat(value)}));}};// Function to check if grade is below KKM\nconst isBelowKkm=(column,value)=>{if(!value||value===''||isNaN(parseFloat(value)))return false;const gradeValue=parseFloat(value);const kkmValue=kkm[column];// Only check if KKM is set (not empty)\nif(kkmValue===''||kkmValue===undefined||kkmValue===null)return false;return gradeValue<kkmValue;};// Function to check if final grade is below KKM\nconst isFinalGradeBelowKkm=studentId=>{const finalGrade=calculateFinalGrade(studentId);if(finalGrade==='-'||!kkm.FINAL||kkm.FINAL==='')return false;return parseFloat(finalGrade)<kkm.FINAL;};const handleGradeChange=(studentId,column,value)=>{// Validasi input - izinkan string kosong atau angka 0-100\nif(value===''||!isNaN(parseFloat(value))&&parseFloat(value)>=0&&parseFloat(value)<=100){setGradesInput(prev=>_objectSpread(_objectSpread({},prev),{},{[\"\".concat(studentId,\"_\").concat(column)]:value}));}};// Function to calculate final grade (70% TP average + 30% UAS)\nconst calculateFinalGrade=studentId=>{// Calculate TP average\nlet tpSum=0;let tpCount=0;tpColumns.forEach(tpNum=>{const tpValue=gradesInput[\"\".concat(studentId,\"_TP\").concat(tpNum)];if(tpValue!==undefined&&tpValue!==null&&tpValue!==''&&!isNaN(parseFloat(tpValue))){tpSum+=parseFloat(tpValue);tpCount++;}});const tpAverage=tpCount>0?tpSum/tpCount:0;// Get UAS value (allow 0 as valid value)\nconst uasValue=gradesInput[\"\".concat(studentId,\"_UAS\")];const uas=uasValue!==undefined&&uasValue!==null&&uasValue!==''&&!isNaN(parseFloat(uasValue))?parseFloat(uasValue):null;// Calculate final grade if both TP and UAS exist (including UAS = 0)\nif(tpCount>0&&uas!==null){return(tpAverage*0.7+uas*0.3).toFixed(2);}return'-';};const handleSubmitGrades=async e=>{e.preventDefault();setMessage('');setMessageType('');if(!selectedAssignment||!activeTASemester||studentsInClass.length===0){setMessage('Harap pilih kelas/mapel dan pastikan ada siswa.');setMessageType('error');return;}const[kelasId,mapelId]=selectedAssignment.split('-').map(Number);let successCount=0;let failCount=0;const gradePromises=[];studentsInClass.forEach(student=>{// Save TP grades\ntpColumns.forEach(tpNum=>{const gradeValue=gradesInput[\"\".concat(student.id_siswa,\"_TP\").concat(tpNum)];if(gradeValue!==undefined&&gradeValue!==null&&gradeValue!==''){gradePromises.push(guruApi.addOrUpdateNewGrade({id_siswa:student.id_siswa,id_guru:userId,id_mapel:mapelId,id_kelas:kelasId,id_ta_semester:activeTASemester.id_ta_semester,jenis_nilai:'TP',urutan_tp:tpNum,nilai:parseFloat(gradeValue),keterangan:\"TP \".concat(tpNum)}).then(()=>{successCount++;}).catch(err=>{console.error(\"Gagal menyimpan TP\".concat(tpNum,\" untuk \").concat(student.nama_siswa,\":\"),err);failCount++;}));}});// Save UAS grade\nconst uasValue=gradesInput[\"\".concat(student.id_siswa,\"_UAS\")];if(uasValue!==undefined&&uasValue!==null&&uasValue!==''){gradePromises.push(guruApi.addOrUpdateNewGrade({id_siswa:student.id_siswa,id_guru:userId,id_mapel:mapelId,id_kelas:kelasId,id_ta_semester:activeTASemester.id_ta_semester,jenis_nilai:'UAS',urutan_tp:null,nilai:parseFloat(uasValue),keterangan:'UAS'}).then(()=>{successCount++;}).catch(err=>{console.error(\"Gagal menyimpan UAS untuk \".concat(student.nama_siswa,\":\"),err);failCount++;}));}});try{await Promise.all(gradePromises);if(successCount>0){setMessage(\"Berhasil menyimpan \".concat(successCount,\" nilai. \").concat(failCount,\" gagal.\"));setMessageType('success');}else if(failCount>0){setMessage(\"Gagal menyimpan \".concat(failCount,\" nilai. Periksa konsol untuk detail.\"));setMessageType('error');}else{setMessage('Tidak ada nilai yang diinput atau diubah.');setMessageType('info');}}catch(err){setMessage(\"Terjadi kesalahan umum saat menyimpan nilai: \".concat(err.message));setMessageType('error');}};if(loading)return/*#__PURE__*/_jsx(\"p\",{children:\"Memuat data guru...\"});if(error)return/*#__PURE__*/_jsxs(\"p\",{className:\"message error\",children:[\"Error: \",error]});const currentAssignment=assignments.find(assign=>\"\".concat(assign.id_kelas,\"-\").concat(assign.id_mapel)===selectedAssignment);return/*#__PURE__*/_jsxs(\"div\",{className:\"feature-content\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Input Nilai Siswa\"}),message&&/*#__PURE__*/_jsx(\"div\",{className:\"message \".concat(messageType),children:message}),!activeTASemester&&/*#__PURE__*/_jsx(\"p\",{className:\"message warning\",children:\"Tahun Ajaran & Semester aktif belum diatur. Harap hubungi Admin.\"}),assignments.length>0?/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Pilih Kelas dan Mata Pelajaran:\"}),/*#__PURE__*/_jsx(\"select\",{value:selectedAssignment,onChange:e=>setSelectedAssignment(e.target.value),children:assignments.map(assign=>/*#__PURE__*/_jsxs(\"option\",{value:\"\".concat(assign.id_kelas,\"-\").concat(assign.id_mapel),children:[assign.nama_kelas,\" - \",assign.nama_mapel]},\"\".concat(assign.id_kelas,\"-\").concat(assign.id_mapel)))})]}):/*#__PURE__*/_jsx(\"p\",{className:\"message warning\",children:\"Anda belum ditugaskan mengajar mata pelajaran di kelas manapun untuk semester aktif ini. Silakan hubungi Admin.\"}),currentAssignment&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Input Nilai untuk \",currentAssignment.nama_mapel,\" di Kelas \",currentAssignment.nama_kelas]}),/*#__PURE__*/_jsxs(\"div\",{className:\"tp-management\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Manajemen Kolom TP\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"tp-controls\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:addTpColumn,className:\"add-tp-button\",children:\"Tambah TP\"}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:()=>setShowKkmSettings(!showKkmSettings),className:\"kkm-settings-button\",children:[showKkmSettings?'Sembunyikan':'Atur',\" KKM\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"tp-list\",children:tpColumns.map(tpNum=>/*#__PURE__*/_jsxs(\"div\",{className:\"tp-item\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"TP \",tpNum]}),tpNum!==1&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>removeTpColumn(tpNum),className:\"remove-tp-button\",children:\"\\xD7\"})]},tpNum))})]}),showKkmSettings&&/*#__PURE__*/_jsxs(\"div\",{className:\"kkm-settings\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Pengaturan Kriteria Ketuntasan Minimal (KKM)\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"kkm-controls\",children:[tpColumns.map(tpNum=>/*#__PURE__*/_jsxs(\"div\",{className:\"kkm-item\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"KKM TP \",tpNum,\":\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"0\",max:\"100\",step:\"0.1\",value:kkm[\"TP\".concat(tpNum)]||'',onChange:e=>handleKkmChange(\"TP\".concat(tpNum),e.target.value),className:\"kkm-input\",placeholder:\"Kosongkan jika tidak ada KKM\"})]},\"kkm-TP\".concat(tpNum))),/*#__PURE__*/_jsxs(\"div\",{className:\"kkm-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"KKM UAS:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"0\",max:\"100\",step:\"0.1\",value:kkm.UAS||'',onChange:e=>handleKkmChange('UAS',e.target.value),className:\"kkm-input\",placeholder:\"Kosongkan jika tidak ada KKM\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"kkm-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"KKM Nilai Akhir:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"0\",max:\"100\",step:\"0.1\",value:kkm.FINAL||'',onChange:e=>handleKkmChange('FINAL',e.target.value),className:\"kkm-input\",placeholder:\"Kosongkan jika tidak ada KKM\"})]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"kkm-info\",children:/*#__PURE__*/_jsx(\"small\",{children:\"Nilai di bawah KKM akan ditampilkan dengan latar belakang merah. Kosongkan field KKM jika tidak ingin mengatur batas ketuntasan.\"})})]})]}),studentsInClass.length>0?/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmitGrades,className:\"form-container-small\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"grades-table-container\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"grades-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"student-name-col\",children:\"Nama Siswa\"}),tpColumns.map(tpNum=>/*#__PURE__*/_jsxs(\"th\",{className:\"grade-col\",children:[\"TP \",tpNum]},\"TP\".concat(tpNum))),/*#__PURE__*/_jsx(\"th\",{className:\"grade-col\",children:\"UAS\"}),/*#__PURE__*/_jsx(\"th\",{className:\"final-grade-col\",children:\"Nilai Akhir\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:studentsInClass.map(student=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"student-name-cell\",children:student.nama_siswa}),tpColumns.map(tpNum=>/*#__PURE__*/_jsx(\"td\",{className:\"grade-cell\",children:/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"0\",max:\"100\",step:\"0.01\",value:gradesInput[\"\".concat(student.id_siswa,\"_TP\").concat(tpNum)]||'',onChange:e=>handleGradeChange(student.id_siswa,\"TP\".concat(tpNum),e.target.value),className:\"grade-input-field \".concat(isBelowKkm(\"TP\".concat(tpNum),gradesInput[\"\".concat(student.id_siswa,\"_TP\").concat(tpNum)])?'below-kkm':''),placeholder:\"0-100\"})},\"\".concat(student.id_siswa,\"-TP\").concat(tpNum))),/*#__PURE__*/_jsx(\"td\",{className:\"grade-cell\",children:/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"0\",max:\"100\",step:\"0.01\",value:gradesInput[\"\".concat(student.id_siswa,\"_UAS\")]||'',onChange:e=>handleGradeChange(student.id_siswa,'UAS',e.target.value),className:\"grade-input-field \".concat(isBelowKkm('UAS',gradesInput[\"\".concat(student.id_siswa,\"_UAS\")])?'below-kkm':''),placeholder:\"0-100\"})}),/*#__PURE__*/_jsx(\"td\",{className:\"final-grade-cell\",children:/*#__PURE__*/_jsx(\"span\",{className:\"final-grade \".concat(isFinalGradeBelowKkm(student.id_siswa)?'below-kkm':''),children:calculateFinalGrade(student.id_siswa)})})]},student.id_siswa))})]})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"submit-button\",children:\"Simpan Semua Nilai\"}),/*#__PURE__*/_jsx(\"div\",{className:\"calculation-info\",children:/*#__PURE__*/_jsxs(\"small\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Keterangan:\"}),\" Nilai Akhir = 70% rata-rata TP + 30% UAS\"]})})]}):/*#__PURE__*/_jsx(\"p\",{children:\"Tidak ada siswa di kelas ini.\"})]})]});};export default InputNilai;","map":{"version":3,"names":["React","useState","useEffect","useCallback","guruApi","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","InputNilai","_ref","activeTASemester","userId","assignments","setAssignments","selectedAssignment","setSelectedAssignment","studentsInClass","setStudentsInClass","tpColumns","setTpColumns","gradesInput","setGradesInput","kkm","setKkm","UAS","FINAL","showKkmSettings","setShowKkmSettings","loading","setLoading","error","setError","message","setMessage","messageType","setMessageType","fetchData","assignmentsData","getGuruAssignments","id_ta_semester","length","concat","id_kelas","id_mapel","err","fetchStudents","kelasId","split","map","Number","studentsData","getStudentsInClass","loadExistingGrades","mapelId","existingGrades","getGradesByAssignment","gradesData","maxTpNumber","forEach","grade","jenis_nilai","Math","max","urutan_tp","id_siswa","nilai","Array","from","_","i","console","log","addTpColumn","nextTpNumber","prev","_objectSpread","removeTpColumn","tpNumber","filter","tp","newGradesInput","Object","keys","key","includes","newKkm","tpNum","handleKkmChange","column","value","isNaN","parseFloat","isBelowKkm","gradeValue","kkmValue","undefined","isFinalGradeBelowKkm","studentId","finalGrade","calculateFinalGrade","handleGradeChange","tpSum","tpCount","tpValue","tpAverage","uasValue","uas","toFixed","handleSubmitGrades","e","preventDefault","successCount","failCount","gradePromises","student","push","addOrUpdateNewGrade","id_guru","keterangan","then","catch","nama_siswa","Promise","all","children","className","currentAssignment","find","assign","onChange","target","nama_kelas","nama_mapel","type","onClick","min","step","placeholder","onSubmit"],"sources":["C:/Users/Han/Desktop/sinfomik/backup5/backup5/frontend/src/features/guru/inputNilai.js"],"sourcesContent":["// frontend/src/features/guru/inputNilai.js\nimport React, { useState, useEffect, useCallback } from 'react'; // Import useCallback\nimport * as guruApi from '../../api/guru'; // Import API guru\n\nconst InputNilai = ({ activeTASemester, userId }) => {\n  const [assignments, setAssignments] = useState([]);\n  const [selectedAssignment, setSelectedAssignment] = useState('');\n  const [studentsInClass, setStudentsInClass] = useState([]);\n  const [tpColumns, setTpColumns] = useState([1]); // Array of TP numbers, minimum 1 TP\n  const [gradesInput, setGradesInput] = useState({}); // { studentId_column: value }\n  const [kkm, setKkm] = useState({ UAS: 75, FINAL: 75 }); // { TP1: 75, TP2: 75, UAS: 75, FINAL: 75 }\n  const [showKkmSettings, setShowKkmSettings] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [message, setMessage] = useState('');\n  const [messageType, setMessageType] = useState('');\n\n  // Wrap fetchData with useCallback to prevent re-creation on every render\n  const fetchData = useCallback(async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      if (!userId || !activeTASemester) {\n        setError(\"Informasi guru atau tahun ajaran aktif tidak tersedia.\");\n        return;\n      }\n      const assignmentsData = await guruApi.getGuruAssignments(userId, activeTASemester.id_ta_semester);\n      setAssignments(assignmentsData);\n\n      if (assignmentsData.length > 0 && !selectedAssignment) {\n        setSelectedAssignment(`${assignmentsData[0].id_kelas}-${assignmentsData[0].id_mapel}`);\n      }\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  }, [activeTASemester, userId, selectedAssignment]); // Add selectedAssignment to dependencies\n\n  useEffect(() => {\n    fetchData();\n  }, [fetchData]); // Now fetchData is a stable dependency\n\n  useEffect(() => {\n    const fetchStudents = async () => {\n      if (selectedAssignment && activeTASemester) {\n        const [kelasId] = selectedAssignment.split('-').map(Number);\n        try {\n          const studentsData = await guruApi.getStudentsInClass(kelasId, activeTASemester.id_ta_semester);\n          setStudentsInClass(studentsData);\n          // Reset grades input when changing assignment\n          setGradesInput({});\n          // Load existing grades for this assignment\n          await loadExistingGrades(kelasId, selectedAssignment.split('-')[1]);\n        } catch (err) {\n          setError(err.message);\n          setStudentsInClass([]);\n        }\n      } else {\n        setStudentsInClass([]);\n      }\n    };\n    fetchStudents();\n  }, [selectedAssignment, activeTASemester]);\n\n  // Function to load existing grades for the selected assignment\n  const loadExistingGrades = async (kelasId, mapelId) => {\n    try {\n      const existingGrades = await guruApi.getGradesByAssignment(userId, mapelId, kelasId, activeTASemester.id_ta_semester);\n      const gradesData = {};\n      let maxTpNumber = 1;\n      \n      existingGrades.forEach(grade => {\n        if (grade.jenis_nilai === 'TP') {\n          maxTpNumber = Math.max(maxTpNumber, grade.urutan_tp);\n          gradesData[`${grade.id_siswa}_TP${grade.urutan_tp}`] = grade.nilai;\n        } else if (grade.jenis_nilai === 'UAS') {\n          gradesData[`${grade.id_siswa}_UAS`] = grade.nilai;\n        }\n      });\n      \n      // Update TP columns based on existing data\n      setTpColumns(Array.from({length: maxTpNumber}, (_, i) => i + 1));\n      setGradesInput(gradesData);\n    } catch (err) {\n      // If no existing grades found, that's fine - just use defaults\n      console.log('No existing grades found or error loading:', err.message);\n    }\n  };\n\n  // Function to add new TP column\n  const addTpColumn = () => {\n    const nextTpNumber = Math.max(...tpColumns) + 1;\n    setTpColumns([...tpColumns, nextTpNumber]);\n    // Set default KKM for new TP\n    setKkm(prev => ({\n      ...prev,\n      [`TP${nextTpNumber}`]: 75\n    }));\n  };\n\n  // Function to remove TP column (except TP1)\n  const removeTpColumn = (tpNumber) => {\n    if (tpNumber === 1) return; // Cannot remove TP1\n    setTpColumns(tpColumns.filter(tp => tp !== tpNumber));\n    \n    // Remove grades for this TP column\n    const newGradesInput = { ...gradesInput };\n    Object.keys(newGradesInput).forEach(key => {\n      if (key.includes(`_TP${tpNumber}`)) {\n        delete newGradesInput[key];\n      }\n    });\n    setGradesInput(newGradesInput);\n\n    // Remove KKM for this TP\n    const newKkm = { ...kkm };\n    delete newKkm[`TP${tpNumber}`];\n    setKkm(newKkm);\n  };\n\n  // Initialize KKM for existing TPs\n  useEffect(() => {\n    const newKkm = { ...kkm };\n    tpColumns.forEach(tpNum => {\n      if (!newKkm[`TP${tpNum}`]) {\n        newKkm[`TP${tpNum}`] = 75; // Default KKM\n      }\n    });\n    setKkm(newKkm);\n  }, [tpColumns]);\n\n  // Function to update KKM\n  const handleKkmChange = (column, value) => {\n    // Allow empty string or valid numbers 0-100\n    if (value === '' || (!isNaN(parseFloat(value)) && parseFloat(value) >= 0 && parseFloat(value) <= 100)) {\n      setKkm(prev => ({\n        ...prev,\n        [column]: value === '' ? '' : parseFloat(value)\n      }));\n    }\n  };\n\n  // Function to check if grade is below KKM\n  const isBelowKkm = (column, value) => {\n    if (!value || value === '' || isNaN(parseFloat(value))) return false;\n    const gradeValue = parseFloat(value);\n    const kkmValue = kkm[column];\n    // Only check if KKM is set (not empty)\n    if (kkmValue === '' || kkmValue === undefined || kkmValue === null) return false;\n    return gradeValue < kkmValue;\n  };\n\n  // Function to check if final grade is below KKM\n  const isFinalGradeBelowKkm = (studentId) => {\n    const finalGrade = calculateFinalGrade(studentId);\n    if (finalGrade === '-' || !kkm.FINAL || kkm.FINAL === '') return false;\n    return parseFloat(finalGrade) < kkm.FINAL;\n  };\n\n  const handleGradeChange = (studentId, column, value) => {\n    // Validasi input - izinkan string kosong atau angka 0-100\n    if (value === '' || (!isNaN(parseFloat(value)) && parseFloat(value) >= 0 && parseFloat(value) <= 100)) {\n      setGradesInput(prev => ({\n        ...prev,\n        [`${studentId}_${column}`]: value\n      }));\n    }\n  };\n\n  // Function to calculate final grade (70% TP average + 30% UAS)\n  const calculateFinalGrade = (studentId) => {\n    // Calculate TP average\n    let tpSum = 0;\n    let tpCount = 0;\n    \n    tpColumns.forEach(tpNum => {\n      const tpValue = gradesInput[`${studentId}_TP${tpNum}`];\n      if (tpValue !== undefined && tpValue !== null && tpValue !== '' && !isNaN(parseFloat(tpValue))) {\n        tpSum += parseFloat(tpValue);\n        tpCount++;\n      }\n    });\n    \n    const tpAverage = tpCount > 0 ? tpSum / tpCount : 0;\n    \n    // Get UAS value (allow 0 as valid value)\n    const uasValue = gradesInput[`${studentId}_UAS`];\n    const uas = (uasValue !== undefined && uasValue !== null && uasValue !== '' && !isNaN(parseFloat(uasValue))) \n      ? parseFloat(uasValue) : null;\n    \n    // Calculate final grade if both TP and UAS exist (including UAS = 0)\n    if (tpCount > 0 && uas !== null) {\n      return (tpAverage * 0.7 + uas * 0.3).toFixed(2);\n    }\n    \n    return '-';\n  };\n\n  const handleSubmitGrades = async (e) => {\n    e.preventDefault();\n    setMessage('');\n    setMessageType('');\n    if (!selectedAssignment || !activeTASemester || studentsInClass.length === 0) {\n      setMessage('Harap pilih kelas/mapel dan pastikan ada siswa.');\n      setMessageType('error');\n      return;\n    }\n\n    const [kelasId, mapelId] = selectedAssignment.split('-').map(Number);\n    let successCount = 0;\n    let failCount = 0;\n\n    const gradePromises = [];\n    \n    studentsInClass.forEach(student => {\n      // Save TP grades\n      tpColumns.forEach(tpNum => {\n        const gradeValue = gradesInput[`${student.id_siswa}_TP${tpNum}`];\n        if (gradeValue !== undefined && gradeValue !== null && gradeValue !== '') {\n          gradePromises.push(\n            guruApi.addOrUpdateNewGrade({\n              id_siswa: student.id_siswa,\n              id_guru: userId,\n              id_mapel: mapelId,\n              id_kelas: kelasId,\n              id_ta_semester: activeTASemester.id_ta_semester,\n              jenis_nilai: 'TP',\n              urutan_tp: tpNum,\n              nilai: parseFloat(gradeValue),\n              keterangan: `TP ${tpNum}`\n            })\n            .then(() => { successCount++; })\n            .catch(err => {\n              console.error(`Gagal menyimpan TP${tpNum} untuk ${student.nama_siswa}:`, err);\n              failCount++;\n            })\n          );\n        }\n      });\n\n      // Save UAS grade\n      const uasValue = gradesInput[`${student.id_siswa}_UAS`];\n      if (uasValue !== undefined && uasValue !== null && uasValue !== '') {\n        gradePromises.push(\n          guruApi.addOrUpdateNewGrade({\n            id_siswa: student.id_siswa,\n            id_guru: userId,\n            id_mapel: mapelId,\n            id_kelas: kelasId,\n            id_ta_semester: activeTASemester.id_ta_semester,\n            jenis_nilai: 'UAS',\n            urutan_tp: null,\n            nilai: parseFloat(uasValue),\n            keterangan: 'UAS'\n          })\n          .then(() => { successCount++; })\n          .catch(err => {\n            console.error(`Gagal menyimpan UAS untuk ${student.nama_siswa}:`, err);\n            failCount++;\n          })\n        );\n      }\n    });\n\n    try {\n      await Promise.all(gradePromises);\n      if (successCount > 0) {\n        setMessage(`Berhasil menyimpan ${successCount} nilai. ${failCount} gagal.`);\n        setMessageType('success');\n      } else if (failCount > 0) {\n        setMessage(`Gagal menyimpan ${failCount} nilai. Periksa konsol untuk detail.`);\n        setMessageType('error');\n      } else {\n        setMessage('Tidak ada nilai yang diinput atau diubah.');\n        setMessageType('info');\n      }\n    } catch (err) {\n      setMessage(`Terjadi kesalahan umum saat menyimpan nilai: ${err.message}`);\n      setMessageType('error');\n    }\n  };\n\n  if (loading) return <p>Memuat data guru...</p>;\n  if (error) return <p className=\"message error\">Error: {error}</p>;\n\n  const currentAssignment = assignments.find(\n    assign => `${assign.id_kelas}-${assign.id_mapel}` === selectedAssignment\n  );\n\n  return (\n    <div className=\"feature-content\">\n      <h2>Input Nilai Siswa</h2>\n      {message && <div className={`message ${messageType}`}>{message}</div>}\n\n      {!activeTASemester && <p className=\"message warning\">Tahun Ajaran & Semester aktif belum diatur. Harap hubungi Admin.</p>}\n\n      {assignments.length > 0 ? (\n        <div className=\"form-group\">\n          <label>Pilih Kelas dan Mata Pelajaran:</label>\n          <select value={selectedAssignment} onChange={(e) => setSelectedAssignment(e.target.value)}>\n            {assignments.map(assign => (\n              <option key={`${assign.id_kelas}-${assign.id_mapel}`} value={`${assign.id_kelas}-${assign.id_mapel}`}>\n                {assign.nama_kelas} - {assign.nama_mapel}\n              </option>\n            ))}\n          </select>\n        </div>\n      ) : (\n        <p className=\"message warning\">Anda belum ditugaskan mengajar mata pelajaran di kelas manapun untuk semester aktif ini. Silakan hubungi Admin.</p>\n      )}\n\n      {currentAssignment && (\n        <>\n          <h3>Input Nilai untuk {currentAssignment.nama_mapel} di Kelas {currentAssignment.nama_kelas}</h3>\n          \n          {/* TP Management Section */}\n          <div className=\"tp-management\">\n            <h4>Manajemen Kolom TP</h4>\n            <div className=\"tp-controls\">\n              <button type=\"button\" onClick={addTpColumn} className=\"add-tp-button\">\n                Tambah TP\n              </button>\n              <button \n                type=\"button\" \n                onClick={() => setShowKkmSettings(!showKkmSettings)} \n                className=\"kkm-settings-button\"\n              >\n                {showKkmSettings ? 'Sembunyikan' : 'Atur'} KKM\n              </button>\n              <div className=\"tp-list\">\n                {tpColumns.map(tpNum => (\n                  <div key={tpNum} className=\"tp-item\">\n                    <span>TP {tpNum}</span>\n                    {tpNum !== 1 && (\n                      <button \n                        type=\"button\" \n                        onClick={() => removeTpColumn(tpNum)} \n                        className=\"remove-tp-button\"\n                      >\n                        Ã—\n                      </button>\n                    )}\n                  </div>\n                ))}\n              </div>\n            </div>\n\n            {/* KKM Settings */}\n            {showKkmSettings && (\n              <div className=\"kkm-settings\">\n                <h5>Pengaturan Kriteria Ketuntasan Minimal (KKM)</h5>\n                <div className=\"kkm-controls\">\n                  {tpColumns.map(tpNum => (\n                    <div key={`kkm-TP${tpNum}`} className=\"kkm-item\">\n                      <label>KKM TP {tpNum}:</label>\n                      <input\n                        type=\"number\"\n                        min=\"0\"\n                        max=\"100\"\n                        step=\"0.1\"\n                        value={kkm[`TP${tpNum}`] || ''}\n                        onChange={(e) => handleKkmChange(`TP${tpNum}`, e.target.value)}\n                        className=\"kkm-input\"\n                        placeholder=\"Kosongkan jika tidak ada KKM\"\n                      />\n                    </div>\n                  ))}\n                  <div className=\"kkm-item\">\n                    <label>KKM UAS:</label>\n                    <input\n                      type=\"number\"\n                      min=\"0\"\n                      max=\"100\"\n                      step=\"0.1\"\n                      value={kkm.UAS || ''}\n                      onChange={(e) => handleKkmChange('UAS', e.target.value)}\n                      className=\"kkm-input\"\n                      placeholder=\"Kosongkan jika tidak ada KKM\"\n                    />\n                  </div>\n                  <div className=\"kkm-item\">\n                    <label>KKM Nilai Akhir:</label>\n                    <input\n                      type=\"number\"\n                      min=\"0\"\n                      max=\"100\"\n                      step=\"0.1\"\n                      value={kkm.FINAL || ''}\n                      onChange={(e) => handleKkmChange('FINAL', e.target.value)}\n                      className=\"kkm-input\"\n                      placeholder=\"Kosongkan jika tidak ada KKM\"\n                    />\n                  </div>\n                </div>\n                <p className=\"kkm-info\">\n                  <small>Nilai di bawah KKM akan ditampilkan dengan latar belakang merah. Kosongkan field KKM jika tidak ingin mengatur batas ketuntasan.</small>\n                </p>\n              </div>\n            )}\n          </div>\n\n          {studentsInClass.length > 0 ? (\n            <form onSubmit={handleSubmitGrades} className=\"form-container-small\">\n              <div className=\"grades-table-container\">\n                <table className=\"grades-table\">\n                  <thead>\n                    <tr>\n                      <th className=\"student-name-col\">Nama Siswa</th>\n                      {tpColumns.map(tpNum => (\n                        <th key={`TP${tpNum}`} className=\"grade-col\">TP {tpNum}</th>\n                      ))}\n                      <th className=\"grade-col\">UAS</th>\n                      <th className=\"final-grade-col\">Nilai Akhir</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {studentsInClass.map(student => (\n                      <tr key={student.id_siswa}>\n                        <td className=\"student-name-cell\">{student.nama_siswa}</td>\n                        {tpColumns.map(tpNum => (\n                          <td key={`${student.id_siswa}-TP${tpNum}`} className=\"grade-cell\">\n                            <input\n                              type=\"number\"\n                              min=\"0\"\n                              max=\"100\"\n                              step=\"0.01\"\n                              value={gradesInput[`${student.id_siswa}_TP${tpNum}`] || ''}\n                              onChange={(e) => handleGradeChange(student.id_siswa, `TP${tpNum}`, e.target.value)}\n                              className={`grade-input-field ${isBelowKkm(`TP${tpNum}`, gradesInput[`${student.id_siswa}_TP${tpNum}`]) ? 'below-kkm' : ''}`}\n                              placeholder=\"0-100\"\n                            />\n                          </td>\n                        ))}\n                        <td className=\"grade-cell\">\n                          <input\n                            type=\"number\"\n                            min=\"0\"\n                            max=\"100\"\n                            step=\"0.01\"\n                            value={gradesInput[`${student.id_siswa}_UAS`] || ''}\n                            onChange={(e) => handleGradeChange(student.id_siswa, 'UAS', e.target.value)}\n                            className={`grade-input-field ${isBelowKkm('UAS', gradesInput[`${student.id_siswa}_UAS`]) ? 'below-kkm' : ''}`}\n                            placeholder=\"0-100\"\n                          />\n                        </td>\n                        <td className=\"final-grade-cell\">\n                          <span className={`final-grade ${isFinalGradeBelowKkm(student.id_siswa) ? 'below-kkm' : ''}`}>\n                            {calculateFinalGrade(student.id_siswa)}\n                          </span>\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n              <button type=\"submit\" className=\"submit-button\">Simpan Semua Nilai</button>\n              \n              <div className=\"calculation-info\">\n                <small>\n                  <strong>Keterangan:</strong> Nilai Akhir = 70% rata-rata TP + 30% UAS\n                </small>\n              </div>\n            </form>\n          ) : (\n            <p>Tidak ada siswa di kelas ini.</p>\n          )}\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default InputNilai;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}