{"ast":null,"code":"// frontend/src/features/admin/teacherClassEnroll.js\nimport React,{useState,useEffect}from'react';import*as adminApi from'../../api/admin';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const GuruMapelKelasAssignment=_ref=>{var _selectedTeacherDetai;let{activeTASemester}=_ref;const[teachers,setTeachers]=useState([]);const[mataPelajaran,setMataPelajaran]=useState([]);const[kelas,setKelas]=useState([]);const[assignments,setAssignments]=useState([]);const[selectedGuruId,setSelectedGuruId]=useState('');const[selectedMapelId,setSelectedMapelId]=useState('');const[selectedKelasId,setSelectedKelasId]=useState('');const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[message,setMessage]=useState('');const[messageType,setMessageType]=useState('');const[isAssigning,setIsAssigning]=useState(false);const[searchTerm,setSearchTerm]=useState('');const[viewMode,setViewMode]=useState('grouped');// 'grouped', 'table' or 'card'\nconst[showDetailModal,setShowDetailModal]=useState(false);const[selectedTeacherDetail,setSelectedTeacherDetail]=useState(null);const[editMode,setEditMode]=useState(false);const[showDeleteConfirm,setShowDeleteConfirm]=useState(false);const[assignmentToDelete,setAssignmentToDelete]=useState(null);const[isDeleteConfirmClosing,setIsDeleteConfirmClosing]=useState(false);const[isDetailModalClosing,setIsDetailModalClosing]=useState(false);const fetchData=async()=>{setLoading(true);setError(null);try{const[teachersData,mapelData,kelasData,assignmentsData]=await Promise.all([adminApi.getTeachers(),adminApi.getMataPelajaran(),activeTASemester?adminApi.getKelas(activeTASemester.id_ta_semester):Promise.resolve([]),activeTASemester?adminApi.getGuruMapelKelasAssignments(activeTASemester.id_ta_semester):Promise.resolve([])]);setTeachers(teachersData);setMataPelajaran(mapelData);setKelas(kelasData);setAssignments(assignmentsData);// Set default selected values if available\nif(teachersData.length>0&&!selectedGuruId)setSelectedGuruId(teachersData[0].id_guru);if(mapelData.length>0&&!selectedMapelId)setSelectedMapelId(mapelData[0].id_mapel);if(kelasData.length>0&&!selectedKelasId)setSelectedKelasId(kelasData[0].id_kelas);}catch(err){setError(err.message);}finally{setLoading(false);}};useEffect(()=>{fetchData();},[activeTASemester]);const showMessage=function(text){let type=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'success';setMessage(text);setMessageType(type);setTimeout(()=>{setMessage('');setMessageType('');},6000);};const handleAssignGuru=async e=>{e.preventDefault();setMessage('');setMessageType('');setIsAssigning(true);if(!activeTASemester||!selectedGuruId||!selectedMapelId||!selectedKelasId){showMessage('Please complete all selections.','error');setIsAssigning(false);return;}try{const response=await adminApi.assignGuruToMapelKelas({id_guru:selectedGuruId,id_mapel:selectedMapelId,id_kelas:selectedKelasId,id_ta_semester:activeTASemester.id_ta_semester});showMessage(response.message,'success');fetchData();}catch(err){showMessage(err.message,'error');}finally{setIsAssigning(false);}};// Helper functions for icons and colors\nconst getSubjectIcon=namaMapel=>{const subject=namaMapel.toLowerCase();if(subject.includes('math')||subject.includes('matematika'))return'fa-calculator';if(subject.includes('science')||subject.includes('ipa')||subject.includes('fisika')||subject.includes('kimia')||subject.includes('biologi'))return'fa-flask';if(subject.includes('english')||subject.includes('bahasa'))return'fa-language';if(subject.includes('history')||subject.includes('sejarah'))return'fa-landmark';if(subject.includes('geography')||subject.includes('geografi'))return'fa-globe';if(subject.includes('art')||subject.includes('seni'))return'fa-palette';if(subject.includes('sport')||subject.includes('olahraga')||subject.includes('penjaskes'))return'fa-running';if(subject.includes('computer')||subject.includes('tik')||subject.includes('komputer'))return'fa-laptop';if(subject.includes('religion')||subject.includes('agama'))return'fa-pray';return'fa-book';};const getRandomColor=index=>{const colors=['from-rose-400 to-pink-500','from-orange-400 to-amber-500','from-emerald-400 to-cyan-500','from-blue-400 to-indigo-500','from-purple-400 to-violet-500','from-pink-400 to-rose-500','from-teal-400 to-green-500','from-indigo-400 to-blue-500'];return colors[index%colors.length];};// Filter assignments based on search\nconst filteredAssignments=assignments.filter(assignment=>assignment.nama_guru.toLowerCase().includes(searchTerm.toLowerCase())||assignment.nama_mapel.toLowerCase().includes(searchTerm.toLowerCase())||assignment.nama_kelas.toLowerCase().includes(searchTerm.toLowerCase()));// Group assignments by teacher\nconst groupedAssignments=()=>{const grouped={};filteredAssignments.forEach((assignment,index)=>{const teacherKey=assignment.id_guru;// Use teacher ID as unique key\nif(!grouped[teacherKey]){grouped[teacherKey]={teacher:{id_guru:assignment.id_guru,nama_guru:assignment.nama_guru},subjects:new Set(),classes:new Set(),assignments:[],isWaliKelas:false// Check if teacher is homeroom teacher\n};}grouped[teacherKey].subjects.add(assignment.nama_mapel);grouped[teacherKey].classes.add(assignment.nama_kelas);grouped[teacherKey].assignments.push(assignment);// Check if this teacher is wali kelas for any assignment\nif(assignment.is_wali_kelas===1){grouped[teacherKey].isWaliKelas=true;}});// Convert Sets to Arrays for rendering\nObject.keys(grouped).forEach(key=>{grouped[key].subjects=Array.from(grouped[key].subjects);grouped[key].classes=Array.from(grouped[key].classes);});return grouped;};// Function to get subject-to-class mapping for detailed view\nconst getSubjectClassMapping=assignments=>{const mapping={};assignments.forEach(assignment=>{const subject=assignment.nama_mapel;if(!mapping[subject]){mapping[subject]=[];}mapping[subject].push({kelas:assignment.nama_kelas,id_kelas:assignment.id_kelas,tahun_ajaran:assignment.tahun_ajaran,semester:assignment.semester});});return mapping;};// NEW: Group assignments by class (for modal display)\nconst getClassSubjectMapping=assignments=>{const mapping={};assignments.forEach(assignment=>{const classKey=assignment.nama_kelas;if(!mapping[classKey]){mapping[classKey]={kelas:assignment.nama_kelas,id_kelas:assignment.id_kelas,tahun_ajaran:assignment.tahun_ajaran,semester:assignment.semester,subjects:[]};}mapping[classKey].subjects.push({nama_mapel:assignment.nama_mapel,id_mapel:assignment.id_mapel,assignment:assignment// Keep reference for delete functionality\n});});return mapping;};// Function to open teacher detail modal\nconst openTeacherDetail=teacherGroup=>{setSelectedTeacherDetail(teacherGroup);setShowDetailModal(true);};// Function to close modal\nconst closeModal=()=>{setIsDetailModalClosing(true);setTimeout(()=>{setShowDetailModal(false);setSelectedTeacherDetail(null);setEditMode(false);setIsDetailModalClosing(false);closeDeleteConfirmModal();},150);// Match animation duration\n};// Function to close delete confirmation modal with animation\nconst closeDeleteConfirmModal=()=>{setIsDeleteConfirmClosing(true);setTimeout(()=>{setShowDeleteConfirm(false);setAssignmentToDelete(null);setIsDeleteConfirmClosing(false);},150);// Match animation duration\n};// Function to handle delete assignment\nconst handleDeleteAssignment=assignment=>{setAssignmentToDelete(assignment);setShowDeleteConfirm(true);};// Function to confirm delete assignment\nconst confirmDeleteAssignment=async()=>{if(!assignmentToDelete)return;try{// Start closing animations immediately for smooth UX\nsetIsDeleteConfirmClosing(true);setIsDetailModalClosing(true);// Perform delete operation\nawait adminApi.deleteGuruMapelKelasAssignment(assignmentToDelete.id_guru_mapel_kelas);// Complete modal closures\nsetTimeout(()=>{setShowDeleteConfirm(false);setAssignmentToDelete(null);setIsDeleteConfirmClosing(false);setShowDetailModal(false);setSelectedTeacherDetail(null);setEditMode(false);setIsDetailModalClosing(false);},150);// Delay data refresh to avoid white flash during modal close\nsetTimeout(async()=>{// Use a more gentle refresh without full loading state\ntry{const assignmentsData=activeTASemester?await adminApi.getGuruMapelKelasAssignments(activeTASemester.id_ta_semester):[];setAssignments(assignmentsData);setMessage('Assignment berhasil dihapus.');setMessageType('success');// Clear success message after delay\nsetTimeout(()=>{setMessage('');setMessageType('');},2000);}catch(refreshError){console.error('Error refreshing data:',refreshError);}},200);}catch(error){// Complete modal closures even on error\nsetTimeout(()=>{setShowDeleteConfirm(false);setAssignmentToDelete(null);setIsDeleteConfirmClosing(false);setShowDetailModal(false);setSelectedTeacherDetail(null);setEditMode(false);setIsDetailModalClosing(false);},150);setTimeout(()=>{var _error$response,_error$response$data;setMessage(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||'Gagal menghapus assignment.');setMessageType('error');// Clear error message after delay\nsetTimeout(()=>{setMessage('');setMessageType('');},3000);},200);}};// Function to toggle edit mode\nconst toggleEditMode=()=>{setEditMode(!editMode);};const selectedTeacher=teachers.find(t=>t.id_guru===selectedGuruId);const selectedSubject=mataPelajaran.find(mp=>mp.id_mapel===selectedMapelId);const selectedClass=kelas.find(k=>k.id_kelas===selectedKelasId);// Render grouped assignments table\nconst renderGroupedAssignmentsTable=()=>{const grouped=groupedAssignments();return/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto rounded-xl border border-gray-200 shadow-sm bg-white\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gradient-to-r from-rose-50 to-pink-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-rose-600 uppercase tracking-wider\",children:\"Teacher\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-rose-600 uppercase tracking-wider\",children:\"Subjects\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-rose-600 uppercase tracking-wider\",children:\"Classes\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-rose-600 uppercase tracking-wider\",children:\"Total Assignments\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-rose-600 uppercase tracking-wider\",children:\"Academic Year\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-rose-600 uppercase tracking-wider\",children:\"Semester\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:Object.values(grouped).map((group,index)=>{var _group$assignments$,_group$assignments$2;return/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50 transition-all duration-200 cursor-pointer \".concat(index%2===0?'bg-white':'bg-gray-25'),onClick:()=>openTeacherDetail(group),children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-br from-rose-400 to-pink-500 p-2 rounded-full mr-3\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-chalkboard-teacher text-white text-sm\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium mr-2\",children:group.teacher.nama_guru}),group.isWaliKelas&&/*#__PURE__*/_jsxs(\"span\",{className:\"bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full text-xs font-bold flex items-center\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-home mr-1\"}),\"Wali Kelas\"]})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500\",children:[\"ID: \",group.teacher.id_guru]})]})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 text-sm text-gray-900\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-1\",children:group.subjects.map((subject,idx)=>/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas \".concat(getSubjectIcon(subject),\" mr-1\")}),subject]},idx))})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 text-sm text-gray-900\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-1\",children:group.classes.map((kelas,idx)=>/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-door-open mr-1\"}),kelas]},idx))})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-tasks mr-1\"}),group.assignments.length]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 font-medium\",children:(_group$assignments$=group.assignments[0])===null||_group$assignments$===void 0?void 0:_group$assignments$.tahun_ajaran}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",children:/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800\",children:(_group$assignments$2=group.assignments[0])===null||_group$assignments$2===void 0?void 0:_group$assignments$2.semester})})]},group.teacher.id_guru);})})]})});};const renderAssignmentsTable=()=>/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto rounded-xl border border-gray-200 shadow-sm bg-white\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gradient-to-r from-rose-50 to-pink-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-rose-600 uppercase tracking-wider\",children:\"Teacher\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-rose-600 uppercase tracking-wider\",children:\"Subject\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-rose-600 uppercase tracking-wider\",children:\"Class\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-rose-600 uppercase tracking-wider\",children:\"Academic Year\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-rose-600 uppercase tracking-wider\",children:\"Semester\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:filteredAssignments.map((assign,index)=>/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50 transition-all duration-200 \".concat(index%2===0?'bg-white':'bg-gray-25'),children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-br from-rose-400 to-pink-500 p-2 rounded-full mr-3\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-chalkboard-teacher text-white text-sm\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:assign.nama_guru})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-br \".concat(getRandomColor(index),\" p-2 rounded-lg mr-3\"),children:/*#__PURE__*/_jsx(\"i\",{className:\"fas \".concat(getSubjectIcon(assign.nama_mapel),\" text-white text-sm\")})}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:assign.nama_mapel})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-door-open mr-1\"}),assign.nama_kelas]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 font-medium\",children:assign.tahun_ajaran}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",children:/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800\",children:assign.semester})})]},index))})]})});const renderAssignmentsCards=()=>/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",children:filteredAssignments.map((assign,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-md overflow-hidden hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1 border border-gray-100\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r \".concat(getRandomColor(index),\" p-4\"),children:/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white/20 p-3 rounded-full mr-3\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-chalkboard-teacher text-white text-xl\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-white font-semibold text-lg truncate\",children:assign.nama_guru}),/*#__PURE__*/_jsx(\"p\",{className:\"text-white/80 text-sm\",children:\"Teacher\"})]})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-br \".concat(getRandomColor(index+1),\" p-2 rounded-lg mr-3\"),children:/*#__PURE__*/_jsx(\"i\",{className:\"fas \".concat(getSubjectIcon(assign.nama_mapel),\" text-white text-sm\")})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Subject\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-gray-900\",children:assign.nama_mapel})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-br from-indigo-400 to-blue-500 p-2 rounded-lg mr-3\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-door-open text-white text-sm\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Class\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-gray-900\",children:assign.nama_kelas})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center pt-2 border-t border-gray-100\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-500\",children:assign.tahun_ajaran}),/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800\",children:assign.semester})]})]})})]},index))});// Render grouped assignments cards\nconst renderGroupedAssignmentsCards=()=>{const grouped=groupedAssignments();return/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",children:Object.values(grouped).map((group,index)=>{var _group$assignments$3,_group$assignments$4;return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-md overflow-hidden hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1 border border-gray-100 flex flex-col h-full cursor-pointer\",onClick:()=>openTeacherDetail(group),children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r \".concat(getRandomColor(index),\" p-4\"),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white/20 p-3 rounded-full mr-3\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-chalkboard-teacher text-white text-xl\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-white font-semibold text-lg mr-2\",children:group.teacher.nama_guru}),group.isWaliKelas&&/*#__PURE__*/_jsxs(\"span\",{className:\"bg-yellow-400 text-yellow-900 px-2 py-1 rounded-full text-xs font-bold flex items-center\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-home mr-1\"}),\"Wali Kelas\"]})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-white/80 text-sm\",children:[\"ID: \",group.teacher.id_guru]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white/20 px-3 py-1 rounded-full\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-white text-sm font-bold\",children:group.assignments.length})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 flex-1 flex flex-col justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500 mb-2\",children:[\"Subjects (\",group.subjects.length,\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-1\",children:group.subjects.map((subject,idx)=>/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-blue-100 text-blue-800\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas \".concat(getSubjectIcon(subject),\" mr-1\")}),subject]},idx))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500 mb-2\",children:[\"Classes (\",group.classes.length,\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-1\",children:group.classes.map((kelas,idx)=>/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-indigo-100 text-indigo-800\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-door-open mr-1\"}),kelas]},idx))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center pt-4 border-t border-gray-100 mt-auto\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-500\",children:(_group$assignments$3=group.assignments[0])===null||_group$assignments$3===void 0?void 0:_group$assignments$3.tahun_ajaran}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800 mr-2\",children:(_group$assignments$4=group.assignments[0])===null||_group$assignments$4===void 0?void 0:_group$assignments$4.semester}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs text-gray-400 flex items-center\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-eye mr-1\"}),\"Click to view details\"]})]})]})]})]},group.teacher.id_guru);})});};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-br from-rose-50 to-pink-100 min-h-screen flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-8 rounded-2xl shadow-xl\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 border-4 border-rose-500 border-t-transparent rounded-full animate-spin\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-lg font-medium text-gray-700\",children:\"Loading teacher assignment data...\"})]})})});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-br from-rose-50 to-pink-100 min-h-screen p-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-4xl mx-auto\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-50 border-l-4 border-red-500 text-red-700 p-4 rounded-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-exclamation-circle mr-2 text-xl\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium\",children:[\"Error: \",error]})]})})})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-rose-50 to-pink-100 min-h-screen\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"container mx-auto px-4 py-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl p-6 transition-all duration-300 hover:shadow-2xl\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-rose-500 to-pink-600 -m-6 mb-6 p-6 rounded-t-2xl\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-3xl font-bold text-white flex items-center\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-user-tie mr-3 text-4xl\"}),\"Teacher Assignment System\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-rose-100 mt-2\",children:\"Assign teachers to subjects and classes\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-right\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white/20 rounded-lg p-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-white text-sm\",children:\"Total Assignments\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-white\",children:assignments.length})]})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-rose-400 to-pink-500 rounded-xl p-6 text-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-rose-100 text-sm\",children:\"Teachers\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold\",children:teachers.length})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white/20 p-3 rounded-full\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-chalkboard-teacher text-2xl\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-orange-400 to-amber-500 rounded-xl p-6 text-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-orange-100 text-sm\",children:\"Subjects\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold\",children:mataPelajaran.length})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white/20 p-3 rounded-full\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-book text-2xl\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-emerald-400 to-cyan-500 rounded-xl p-6 text-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-emerald-100 text-sm\",children:\"Classes\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold\",children:kelas.length})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white/20 p-3 rounded-full\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-door-open text-2xl\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-blue-400 to-indigo-500 rounded-xl p-6 text-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-blue-100 text-sm\",children:\"Assignments\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold\",children:assignments.length})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white/20 p-3 rounded-full\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-tasks text-2xl\"})})]})})]}),message&&/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 mb-6 rounded-lg transition-all duration-300 ease-in-out border-l-4 \".concat(messageType==='success'?'bg-green-50 border-green-500 text-green-700':'bg-red-50 border-red-500 text-red-700'),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas \".concat(messageType==='success'?'fa-check-circle':'fa-exclamation-circle',\" mr-2\")}),message]}),activeTASemester?/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-indigo-50 to-purple-50 p-4 rounded-xl border border-indigo-200 mb-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-indigo-500 p-3 rounded-full mr-4\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-calendar-alt text-white text-xl\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-800\",children:\"Active Academic Term\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-indigo-600 font-medium\",children:[activeTASemester.tahun_ajaran,\" - \",activeTASemester.semester]})]})]})}):/*#__PURE__*/_jsx(\"div\",{className:\"bg-yellow-50 border-l-4 border-yellow-500 text-yellow-700 p-4 mb-6 rounded-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-exclamation-triangle mr-2 text-xl\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Please set an active Academic Year & Semester first.\"})]})}),teachers.length>0&&mataPelajaran.length>0&&kelas.length>0?/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-r from-rose-50 to-pink-50 p-6 rounded-xl border border-rose-100\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-2xl font-bold text-gray-800 mb-6 flex items-center\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-user-plus mr-3 text-rose-500 text-3xl\"}),/*#__PURE__*/_jsx(\"span\",{className:\"bg-gradient-to-r from-rose-600 to-pink-600 bg-clip-text text-transparent\",children:\"Assign Teacher\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleAssignGuru,className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"select\",{value:selectedGuruId,onChange:e=>setSelectedGuruId(parseInt(e.target.value)),className:\"w-full px-4 py-3 bg-white border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-rose-500 appearance-none\",children:teachers.map(t=>/*#__PURE__*/_jsx(\"option\",{value:t.id_guru,children:t.nama_guru},t.id_guru))}),/*#__PURE__*/_jsx(\"label\",{className:\"absolute -top-2 left-3 bg-white px-1 text-sm text-gray-600 font-medium\",children:\"Select Teacher\"}),/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-chalkboard-teacher absolute right-3 top-4 text-gray-400\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"select\",{value:selectedMapelId,onChange:e=>setSelectedMapelId(parseInt(e.target.value)),className:\"w-full px-4 py-3 bg-white border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-rose-500 appearance-none\",children:mataPelajaran.map(mp=>/*#__PURE__*/_jsx(\"option\",{value:mp.id_mapel,children:mp.nama_mapel},mp.id_mapel))}),/*#__PURE__*/_jsx(\"label\",{className:\"absolute -top-2 left-3 bg-white px-1 text-sm text-gray-600 font-medium\",children:\"Select Subject\"}),/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-book absolute right-3 top-4 text-gray-400\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"select\",{value:selectedKelasId,onChange:e=>setSelectedKelasId(parseInt(e.target.value)),className:\"w-full px-4 py-3 bg-white border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-rose-500 appearance-none\",children:kelas.map(k=>/*#__PURE__*/_jsx(\"option\",{value:k.id_kelas,children:k.nama_kelas},k.id_kelas))}),/*#__PURE__*/_jsx(\"label\",{className:\"absolute -top-2 left-3 bg-white px-1 text-sm text-gray-600 font-medium\",children:\"Select Class\"}),/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-door-open absolute right-3 top-4 text-gray-400\"})]})]}),selectedTeacher&&selectedSubject&&selectedClass&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-4 rounded-lg border border-gray-200\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-medium text-gray-700 mb-3\",children:\"Assignment Preview:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap items-center gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-br from-rose-400 to-pink-500 p-2 rounded-full mr-2\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-chalkboard-teacher text-white text-sm\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium\",children:selectedTeacher.nama_guru})]}),/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-arrow-right text-gray-400\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-br from-orange-400 to-amber-500 p-2 rounded-lg mr-2\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas \".concat(getSubjectIcon(selectedSubject.nama_mapel),\" text-white text-sm\")})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium\",children:selectedSubject.nama_mapel})]}),/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-arrow-right text-gray-400\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-br from-indigo-400 to-blue-500 p-2 rounded-lg mr-2\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-door-open text-white text-sm\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium\",children:selectedClass.nama_kelas})]})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:!activeTASemester||isAssigning,className:\"w-full md:w-auto flex items-center justify-center px-8 py-3 bg-gradient-to-r from-rose-500 to-pink-600 text-white rounded-lg hover:from-rose-600 hover:to-pink-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 transform hover:-translate-y-0.5 font-semibold shadow-lg\",children:isAssigning?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-3\"}),\"Assigning Teacher...\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-user-plus mr-3 text-lg\"}),\"Assign Teacher\"]})})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col md:flex-row md:items-center md:justify-between mb-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-2xl font-bold text-gray-800 flex items-center\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-list-check mr-3 text-pink-500 text-3xl\"}),/*#__PURE__*/_jsx(\"span\",{className:\"bg-gradient-to-r from-pink-600 to-rose-600 bg-clip-text text-transparent\",children:\"Teacher Assignments\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3 mt-3 md:mt-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),placeholder:\"Search assignments...\",className:\"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-rose-500\"}),/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-search absolute left-3 top-3 text-gray-400\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex bg-gray-100 rounded-lg p-1\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setViewMode('grouped'),className:\"px-3 py-1 rounded-md transition-all duration-200 \".concat(viewMode==='grouped'?'bg-white shadow-sm text-rose-600':'text-gray-600'),title:\"Grouped View\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-users\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setViewMode('table'),className:\"px-3 py-1 rounded-md transition-all duration-200 \".concat(viewMode==='table'?'bg-white shadow-sm text-rose-600':'text-gray-600'),title:\"Table View\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-table\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setViewMode('card'),className:\"px-3 py-1 rounded-md transition-all duration-200 \".concat(viewMode==='card'?'bg-white shadow-sm text-rose-600':'text-gray-600'),title:\"Card View\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-th-large\"})})]})]})]}),filteredAssignments.length>0?viewMode==='grouped'?renderGroupedAssignmentsCards():viewMode==='table'?renderAssignmentsTable():renderAssignmentsCards():/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12 bg-gray-50 rounded-xl border-2 border-dashed border-gray-300\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"inline-block p-6 bg-gray-100 rounded-full mb-4\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-clipboard-list text-4xl text-gray-400\"})}),/*#__PURE__*/_jsx(\"h5\",{className:\"text-lg font-medium text-gray-700 mb-2\",children:searchTerm?'No Assignments Match Search':'No Teacher Assignments'}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:searchTerm?\"No assignments match your search for \\\"\".concat(searchTerm,\"\\\".\"):'No teacher assignments are registered for the active semester.'})]})]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"inline-block p-6 bg-yellow-50 rounded-full mb-4\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-exclamation-triangle text-4xl text-yellow-400\"})}),/*#__PURE__*/_jsx(\"h5\",{className:\"text-lg font-medium text-gray-700 mb-2\",children:\"Missing Required Data\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"Make sure Teachers, Subjects, and Classes are registered and an Active Academic Year/Semester is set.\"})]})]})}),showDetailModal&&selectedTeacherDetail&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 transition-all duration-200 ease-in-out \".concat(isDetailModalClosing?'animate-fadeOut':'animate-fadeIn'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl shadow-2xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto transform transition-all duration-200 ease-out \".concat(isDetailModalClosing?'animate-slideOutDown':'animate-slideInUp'),children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-rose-500 to-pink-600 p-6 rounded-t-2xl\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white/20 p-3 rounded-full mr-4\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-chalkboard-teacher text-white text-2xl\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-white mr-3\",children:selectedTeacherDetail.teacher.nama_guru}),selectedTeacherDetail.isWaliKelas&&/*#__PURE__*/_jsxs(\"span\",{className:\"bg-yellow-400 text-yellow-900 px-3 py-1 rounded-full text-sm font-bold flex items-center\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-home mr-2\"}),\"Wali Kelas\"]})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-white/80\",children:[\"Teacher ID: \",selectedTeacherDetail.teacher.id_guru]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-white/80\",children:[\"Total Assignments: \",selectedTeacherDetail.assignments.length]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:toggleEditMode,className:\"\".concat(editMode?'bg-red-400 hover:bg-red-500':'bg-blue-400 hover:bg-blue-500',\" text-white px-3 py-1 rounded-lg transition-colors duration-200 flex items-center\"),title:editMode?\"Cancel Edit\":\"Edit Assignments\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas \".concat(editMode?'fa-times':'fa-edit',\" mr-1\")}),editMode?'Cancel':'Edit']}),/*#__PURE__*/_jsx(\"button\",{onClick:closeModal,className:\"bg-white/20 hover:bg-white/30 p-2 rounded-full transition-colors duration-200\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-times text-white text-xl\"})})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-xl font-semibold text-gray-800 mb-4 flex items-center\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-list-ul mr-2 text-rose-500\"}),\"Subject-Class Assignments\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:Object.values(getClassSubjectMapping(selectedTeacherDetail.assignments)).map(classData=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 rounded-xl p-4 border border-gray-200\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between mb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-indigo-500 to-purple-600 p-3 rounded-lg mr-4\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-door-open text-white text-lg\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold text-gray-800 text-lg\",children:classData.kelas}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-500 text-sm\",children:[classData.tahun_ajaran,\" - \",classData.semester]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-400 text-xs\",children:[classData.subjects.length,\" subject\",classData.subjects.length>1?'s':'']})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-16\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-2\",children:classData.subjects.map((subjectData,idx)=>/*#__PURE__*/_jsx(\"div\",{className:\"relative group\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white border border-gray-300 rounded-lg px-3 py-2 flex items-center space-x-2 hover:shadow-md transition-all duration-200\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-blue-500 to-indigo-600 p-1.5 rounded-md\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas \".concat(getSubjectIcon(subjectData.nama_mapel),\" text-white text-xs\")})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-700\",children:subjectData.nama_mapel}),editMode&&/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.preventDefault();e.stopPropagation();handleDeleteAssignment(subjectData.assignment);},className:\"bg-red-500 hover:bg-red-600 text-white p-1 rounded-md ml-2 opacity-0 group-hover:opacity-100 transition-opacity duration-200\",title:\"Delete this assignment\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-trash text-xs\"})})]})},idx))})})]},classData.kelas))}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 bg-gradient-to-r from-rose-50 to-pink-50 rounded-xl p-4 border border-rose-200\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-semibold text-gray-800 mb-3 flex items-center\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-chart-bar mr-2 text-rose-500\"}),\"Teaching Summary\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 md:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-100 p-3 rounded-lg mb-2\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-book text-blue-600 text-xl\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-blue-600\",children:selectedTeacherDetail.subjects.length}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[\"Subject\",selectedTeacherDetail.subjects.length>1?'s':'']})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-indigo-100 p-3 rounded-lg mb-2\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-door-open text-indigo-600 text-xl\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-indigo-600\",children:selectedTeacherDetail.classes.length}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[\"Class\",selectedTeacherDetail.classes.length>1?'es':'']})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-green-100 p-3 rounded-lg mb-2\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-tasks text-green-600 text-xl\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-green-600\",children:selectedTeacherDetail.assignments.length}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[\"Assignment\",selectedTeacherDetail.assignments.length>1?'s':'']})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-purple-100 p-3 rounded-lg mb-2\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-calendar text-purple-600 text-xl\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-purple-600\",children:(_selectedTeacherDetai=selectedTeacherDetail.assignments[0])===null||_selectedTeacherDetai===void 0?void 0:_selectedTeacherDetai.semester}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Semester\"})]})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-50 px-6 py-4 rounded-b-2xl\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-end\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:closeModal,className:\"bg-gradient-to-r from-gray-500 to-gray-600 hover:from-gray-600 hover:to-gray-700 text-white px-6 py-2 rounded-lg transition-all duration-200 flex items-center\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-times mr-2\"}),\"Close\"]})})})]})}),showDeleteConfirm&&assignmentToDelete&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center transition-all duration-300 ease-in-out \".concat(isDeleteConfirmClosing?'animate-fadeOut':'animate-fadeIn'),style:{zIndex:9999},children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl shadow-2xl max-w-md w-full mx-4 transform transition-all duration-300 ease-out \".concat(isDeleteConfirmClosing?'animate-slideOutDown':'animate-slideInUp'),children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-red-500 to-red-600 p-6 rounded-t-2xl\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white/20 p-3 rounded-full mr-4\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-exclamation-triangle text-white text-2xl\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-white\",children:\"Confirm Delete Assignment\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-white/80 text-sm\",children:\"This action cannot be undone\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700 mb-3\",children:\"Are you sure you want to delete this assignment?\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-50 p-4 rounded-lg border border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-3 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-600\",children:\"Teacher:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-800\",children:selectedTeacherDetail===null||selectedTeacherDetail===void 0?void 0:selectedTeacherDetail.teacher.nama_guru})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-600\",children:\"Subject:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-800\",children:assignmentToDelete.nama_mapel})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-600\",children:\"Class:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-800\",children:assignmentToDelete.nama_kelas})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-600\",children:\"Semester:\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-800\",children:[assignmentToDelete.tahun_ajaran,\" - \",assignmentToDelete.semester]})]})]})}),message&&messageType==='error'&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-3 p-3 bg-red-50 border border-red-200 rounded-lg\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-red-700 text-sm flex items-center\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-exclamation-circle mr-2\"}),message]})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 px-6 py-4 rounded-b-2xl flex justify-end space-x-3\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:closeDeleteConfirmModal,className:\"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg transition-colors duration-200 flex items-center\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-times mr-2\"}),\"Cancel\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:confirmDeleteAssignment,className:\"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-colors duration-200 flex items-center\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-trash mr-2\"}),\"Delete Assignment\"]})]})]})})]});};export default GuruMapelKelasAssignment;","map":{"version":3,"names":["React","useState","useEffect","adminApi","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","GuruMapelKelasAssignment","_ref","_selectedTeacherDetai","activeTASemester","teachers","setTeachers","mataPelajaran","setMataPelajaran","kelas","setKelas","assignments","setAssignments","selectedGuruId","setSelectedGuruId","selectedMapelId","setSelectedMapelId","selectedKelasId","setSelectedKelasId","loading","setLoading","error","setError","message","setMessage","messageType","setMessageType","isAssigning","setIsAssigning","searchTerm","setSearchTerm","viewMode","setViewMode","showDetailModal","setShowDetailModal","selectedTeacherDetail","setSelectedTeacherDetail","editMode","setEditMode","showDeleteConfirm","setShowDeleteConfirm","assignmentToDelete","setAssignmentToDelete","isDeleteConfirmClosing","setIsDeleteConfirmClosing","isDetailModalClosing","setIsDetailModalClosing","fetchData","teachersData","mapelData","kelasData","assignmentsData","Promise","all","getTeachers","getMataPelajaran","getKelas","id_ta_semester","resolve","getGuruMapelKelasAssignments","length","id_guru","id_mapel","id_kelas","err","showMessage","text","type","arguments","undefined","setTimeout","handleAssignGuru","e","preventDefault","response","assignGuruToMapelKelas","getSubjectIcon","namaMapel","subject","toLowerCase","includes","getRandomColor","index","colors","filteredAssignments","filter","assignment","nama_guru","nama_mapel","nama_kelas","groupedAssignments","grouped","forEach","teacherKey","teacher","subjects","Set","classes","isWaliKelas","add","push","is_wali_kelas","Object","keys","key","Array","from","getSubjectClassMapping","mapping","tahun_ajaran","semester","getClassSubjectMapping","classKey","openTeacherDetail","teacherGroup","closeModal","closeDeleteConfirmModal","handleDeleteAssignment","confirmDeleteAssignment","deleteGuruMapelKelasAssignment","id_guru_mapel_kelas","refreshError","console","_error$response","_error$response$data","data","toggleEditMode","selectedTeacher","find","t","selectedSubject","mp","selectedClass","k","renderGroupedAssignmentsTable","className","children","values","map","group","_group$assignments$","_group$assignments$2","concat","onClick","idx","renderAssignmentsTable","assign","renderAssignmentsCards","renderGroupedAssignmentsCards","_group$assignments$3","_group$assignments$4","onSubmit","value","onChange","parseInt","target","disabled","placeholder","title","classData","subjectData","stopPropagation","style","zIndex"],"sources":["C:/Users/Han/Desktop/sinfomik/backup5/backup5/frontend/src/features/admin/teacherClassEnroll.js"],"sourcesContent":["// frontend/src/features/admin/teacherClassEnroll.js\nimport React, { useState, useEffect } from 'react';\nimport * as adminApi from '../../api/admin';\n\nconst GuruMapelKelasAssignment = ({ activeTASemester }) => {\n  const [teachers, setTeachers] = useState([]);\n  const [mataPelajaran, setMataPelajaran] = useState([]);\n  const [kelas, setKelas] = useState([]);\n  const [assignments, setAssignments] = useState([]);\n  const [selectedGuruId, setSelectedGuruId] = useState('');\n  const [selectedMapelId, setSelectedMapelId] = useState('');\n  const [selectedKelasId, setSelectedKelasId] = useState('');\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [message, setMessage] = useState('');\n  const [messageType, setMessageType] = useState('');\n  const [isAssigning, setIsAssigning] = useState(false);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [viewMode, setViewMode] = useState('grouped'); // 'grouped', 'table' or 'card'\n  const [showDetailModal, setShowDetailModal] = useState(false);\n  const [selectedTeacherDetail, setSelectedTeacherDetail] = useState(null);\n  const [editMode, setEditMode] = useState(false);\n  const [showDeleteConfirm, setShowDeleteConfirm] = useState(false);\n  const [assignmentToDelete, setAssignmentToDelete] = useState(null);\n  const [isDeleteConfirmClosing, setIsDeleteConfirmClosing] = useState(false);\n  const [isDetailModalClosing, setIsDetailModalClosing] = useState(false);\n\n  const fetchData = async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      const [teachersData, mapelData, kelasData, assignmentsData] = await Promise.all([\n        adminApi.getTeachers(),\n        adminApi.getMataPelajaran(),\n        activeTASemester ? adminApi.getKelas(activeTASemester.id_ta_semester) : Promise.resolve([]),\n        activeTASemester ? adminApi.getGuruMapelKelasAssignments(activeTASemester.id_ta_semester) : Promise.resolve([])\n      ]);\n      setTeachers(teachersData);\n      setMataPelajaran(mapelData);\n      setKelas(kelasData);\n      setAssignments(assignmentsData);\n\n      // Set default selected values if available\n      if (teachersData.length > 0 && !selectedGuruId) setSelectedGuruId(teachersData[0].id_guru);\n      if (mapelData.length > 0 && !selectedMapelId) setSelectedMapelId(mapelData[0].id_mapel);\n      if (kelasData.length > 0 && !selectedKelasId) setSelectedKelasId(kelasData[0].id_kelas);\n\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchData();\n  }, [activeTASemester]);\n\n  const showMessage = (text, type = 'success') => {\n    setMessage(text);\n    setMessageType(type);\n    \n    setTimeout(() => {\n      setMessage('');\n      setMessageType('');\n    }, 6000);\n  };\n\n  const handleAssignGuru = async (e) => {\n    e.preventDefault();\n    setMessage('');\n    setMessageType('');\n    setIsAssigning(true);\n    \n    if (!activeTASemester || !selectedGuruId || !selectedMapelId || !selectedKelasId) {\n      showMessage('Please complete all selections.', 'error');\n      setIsAssigning(false);\n      return;\n    }\n\n    try {\n      const response = await adminApi.assignGuruToMapelKelas({\n        id_guru: selectedGuruId,\n        id_mapel: selectedMapelId,\n        id_kelas: selectedKelasId,\n        id_ta_semester: activeTASemester.id_ta_semester\n      });\n      showMessage(response.message, 'success');\n      fetchData();\n    } catch (err) {\n      showMessage(err.message, 'error');\n    } finally {\n      setIsAssigning(false);\n    }\n  };\n\n  // Helper functions for icons and colors\n  const getSubjectIcon = (namaMapel) => {\n    const subject = namaMapel.toLowerCase();\n    if (subject.includes('math') || subject.includes('matematika')) return 'fa-calculator';\n    if (subject.includes('science') || subject.includes('ipa') || subject.includes('fisika') || subject.includes('kimia') || subject.includes('biologi')) return 'fa-flask';\n    if (subject.includes('english') || subject.includes('bahasa')) return 'fa-language';\n    if (subject.includes('history') || subject.includes('sejarah')) return 'fa-landmark';\n    if (subject.includes('geography') || subject.includes('geografi')) return 'fa-globe';\n    if (subject.includes('art') || subject.includes('seni')) return 'fa-palette';\n    if (subject.includes('sport') || subject.includes('olahraga') || subject.includes('penjaskes')) return 'fa-running';\n    if (subject.includes('computer') || subject.includes('tik') || subject.includes('komputer')) return 'fa-laptop';\n    if (subject.includes('religion') || subject.includes('agama')) return 'fa-pray';\n    return 'fa-book';\n  };\n\n  const getRandomColor = (index) => {\n    const colors = [\n      'from-rose-400 to-pink-500',\n      'from-orange-400 to-amber-500', \n      'from-emerald-400 to-cyan-500',\n      'from-blue-400 to-indigo-500',\n      'from-purple-400 to-violet-500',\n      'from-pink-400 to-rose-500',\n      'from-teal-400 to-green-500',\n      'from-indigo-400 to-blue-500'\n    ];\n    return colors[index % colors.length];\n  };\n\n  // Filter assignments based on search\n  const filteredAssignments = assignments.filter(assignment =>\n    assignment.nama_guru.toLowerCase().includes(searchTerm.toLowerCase()) ||\n    assignment.nama_mapel.toLowerCase().includes(searchTerm.toLowerCase()) ||\n    assignment.nama_kelas.toLowerCase().includes(searchTerm.toLowerCase())\n  );\n\n  // Group assignments by teacher\n  const groupedAssignments = () => {\n    const grouped = {};\n    \n    filteredAssignments.forEach((assignment, index) => {\n      const teacherKey = assignment.id_guru; // Use teacher ID as unique key\n      \n      if (!grouped[teacherKey]) {\n        grouped[teacherKey] = {\n          teacher: {\n            id_guru: assignment.id_guru,\n            nama_guru: assignment.nama_guru\n          },\n          subjects: new Set(),\n          classes: new Set(),\n          assignments: [],\n          isWaliKelas: false // Check if teacher is homeroom teacher\n        };\n      }\n      \n      grouped[teacherKey].subjects.add(assignment.nama_mapel);\n      grouped[teacherKey].classes.add(assignment.nama_kelas);\n      grouped[teacherKey].assignments.push(assignment);\n      \n      // Check if this teacher is wali kelas for any assignment\n      if (assignment.is_wali_kelas === 1) {\n        grouped[teacherKey].isWaliKelas = true;\n      }\n    });\n    \n    // Convert Sets to Arrays for rendering\n    Object.keys(grouped).forEach(key => {\n      grouped[key].subjects = Array.from(grouped[key].subjects);\n      grouped[key].classes = Array.from(grouped[key].classes);\n    });\n    \n    return grouped;\n  };\n\n  // Function to get subject-to-class mapping for detailed view\n  const getSubjectClassMapping = (assignments) => {\n    const mapping = {};\n    assignments.forEach(assignment => {\n      const subject = assignment.nama_mapel;\n      if (!mapping[subject]) {\n        mapping[subject] = [];\n      }\n      mapping[subject].push({\n        kelas: assignment.nama_kelas,\n        id_kelas: assignment.id_kelas,\n        tahun_ajaran: assignment.tahun_ajaran,\n        semester: assignment.semester\n      });\n    });\n    return mapping;\n  };\n\n  // NEW: Group assignments by class (for modal display)\n  const getClassSubjectMapping = (assignments) => {\n    const mapping = {};\n    assignments.forEach(assignment => {\n      const classKey = assignment.nama_kelas;\n      if (!mapping[classKey]) {\n        mapping[classKey] = {\n          kelas: assignment.nama_kelas,\n          id_kelas: assignment.id_kelas,\n          tahun_ajaran: assignment.tahun_ajaran,\n          semester: assignment.semester,\n          subjects: []\n        };\n      }\n      mapping[classKey].subjects.push({\n        nama_mapel: assignment.nama_mapel,\n        id_mapel: assignment.id_mapel,\n        assignment: assignment // Keep reference for delete functionality\n      });\n    });\n    return mapping;\n  };\n\n  // Function to open teacher detail modal\n  const openTeacherDetail = (teacherGroup) => {\n    setSelectedTeacherDetail(teacherGroup);\n    setShowDetailModal(true);\n  };\n\n  // Function to close modal\n  const closeModal = () => {\n    setIsDetailModalClosing(true);\n    setTimeout(() => {\n      setShowDetailModal(false);\n      setSelectedTeacherDetail(null);\n      setEditMode(false);\n      setIsDetailModalClosing(false);\n      closeDeleteConfirmModal();\n    }, 150); // Match animation duration\n  };\n\n  // Function to close delete confirmation modal with animation\n  const closeDeleteConfirmModal = () => {\n    setIsDeleteConfirmClosing(true);\n    setTimeout(() => {\n      setShowDeleteConfirm(false);\n      setAssignmentToDelete(null);\n      setIsDeleteConfirmClosing(false);\n    }, 150); // Match animation duration\n  };\n\n  // Function to handle delete assignment\n  const handleDeleteAssignment = (assignment) => {\n    setAssignmentToDelete(assignment);\n    setShowDeleteConfirm(true);\n  };\n\n  // Function to confirm delete assignment\n  const confirmDeleteAssignment = async () => {\n    if (!assignmentToDelete) return;\n\n    try {\n      // Start closing animations immediately for smooth UX\n      setIsDeleteConfirmClosing(true);\n      setIsDetailModalClosing(true);\n      \n      // Perform delete operation\n      await adminApi.deleteGuruMapelKelasAssignment(assignmentToDelete.id_guru_mapel_kelas);\n      \n      // Complete modal closures\n      setTimeout(() => {\n        setShowDeleteConfirm(false);\n        setAssignmentToDelete(null);\n        setIsDeleteConfirmClosing(false);\n        setShowDetailModal(false);\n        setSelectedTeacherDetail(null);\n        setEditMode(false);\n        setIsDetailModalClosing(false);\n      }, 150);\n      \n      // Delay data refresh to avoid white flash during modal close\n      setTimeout(async () => {\n        // Use a more gentle refresh without full loading state\n        try {\n          const assignmentsData = activeTASemester ? \n            await adminApi.getGuruMapelKelasAssignments(activeTASemester.id_ta_semester) : \n            [];\n          setAssignments(assignmentsData);\n          \n          setMessage('Assignment berhasil dihapus.');\n          setMessageType('success');\n          \n          // Clear success message after delay\n          setTimeout(() => {\n            setMessage('');\n            setMessageType('');\n          }, 2000);\n        } catch (refreshError) {\n          console.error('Error refreshing data:', refreshError);\n        }\n      }, 200);\n      \n    } catch (error) {\n      // Complete modal closures even on error\n      setTimeout(() => {\n        setShowDeleteConfirm(false);\n        setAssignmentToDelete(null);\n        setIsDeleteConfirmClosing(false);\n        setShowDetailModal(false);\n        setSelectedTeacherDetail(null);\n        setEditMode(false);\n        setIsDetailModalClosing(false);\n      }, 150);\n      \n      setTimeout(() => {\n        setMessage(error.response?.data?.message || 'Gagal menghapus assignment.');\n        setMessageType('error');\n        \n        // Clear error message after delay\n        setTimeout(() => {\n          setMessage('');\n          setMessageType('');\n        }, 3000);\n      }, 200);\n    }\n  };\n\n  // Function to toggle edit mode\n  const toggleEditMode = () => {\n    setEditMode(!editMode);\n  };\n\n  const selectedTeacher = teachers.find(t => t.id_guru === selectedGuruId);\n  const selectedSubject = mataPelajaran.find(mp => mp.id_mapel === selectedMapelId);\n  const selectedClass = kelas.find(k => k.id_kelas === selectedKelasId);\n\n  // Render grouped assignments table\n  const renderGroupedAssignmentsTable = () => {\n    const grouped = groupedAssignments();\n    \n    return (\n      <div className=\"overflow-x-auto rounded-xl border border-gray-200 shadow-sm bg-white\">\n        <table className=\"min-w-full divide-y divide-gray-200\">\n          <thead className=\"bg-gradient-to-r from-rose-50 to-pink-50\">\n            <tr>\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-rose-600 uppercase tracking-wider\">Teacher</th>\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-rose-600 uppercase tracking-wider\">Subjects</th>\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-rose-600 uppercase tracking-wider\">Classes</th>\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-rose-600 uppercase tracking-wider\">Total Assignments</th>\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-rose-600 uppercase tracking-wider\">Academic Year</th>\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-rose-600 uppercase tracking-wider\">Semester</th>\n            </tr>\n          </thead>\n          <tbody className=\"bg-white divide-y divide-gray-200\">\n            {Object.values(grouped).map((group, index) => (\n              <tr \n                key={group.teacher.id_guru} \n                className={`hover:bg-gray-50 transition-all duration-200 cursor-pointer ${index % 2 === 0 ? 'bg-white' : 'bg-gray-25'}`}\n                onClick={() => openTeacherDetail(group)}\n              >\n                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                  <div className=\"flex items-center\">\n                    <div className=\"bg-gradient-to-br from-rose-400 to-pink-500 p-2 rounded-full mr-3\">\n                      <i className=\"fas fa-chalkboard-teacher text-white text-sm\"></i>\n                    </div>\n                    <div>\n                      <div className=\"flex items-center\">\n                        <span className=\"font-medium mr-2\">{group.teacher.nama_guru}</span>\n                        {group.isWaliKelas && (\n                          <span className=\"bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full text-xs font-bold flex items-center\">\n                            <i className=\"fas fa-home mr-1\"></i>\n                            Wali Kelas\n                          </span>\n                        )}\n                      </div>\n                      <p className=\"text-xs text-gray-500\">ID: {group.teacher.id_guru}</p>\n                    </div>\n                  </div>\n                </td>\n                <td className=\"px-6 py-4 text-sm text-gray-900\">\n                  <div className=\"flex flex-wrap gap-1\">\n                    {group.subjects.map((subject, idx) => (\n                      <span key={idx} className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800\">\n                        <i className={`fas ${getSubjectIcon(subject)} mr-1`}></i>\n                        {subject}\n                      </span>\n                    ))}\n                  </div>\n                </td>\n                <td className=\"px-6 py-4 text-sm text-gray-900\">\n                  <div className=\"flex flex-wrap gap-1\">\n                    {group.classes.map((kelas, idx) => (\n                      <span key={idx} className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800\">\n                        <i className=\"fas fa-door-open mr-1\"></i>\n                        {kelas}\n                      </span>\n                    ))}\n                  </div>\n                </td>\n                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                  <span className=\"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800\">\n                    <i className=\"fas fa-tasks mr-1\"></i>\n                    {group.assignments.length}\n                  </span>\n                </td>\n                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 font-medium\">\n                  {group.assignments[0]?.tahun_ajaran}\n                </td>\n                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                  <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800\">\n                    {group.assignments[0]?.semester}\n                  </span>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    );\n  };\n\n  const renderAssignmentsTable = () => (\n    <div className=\"overflow-x-auto rounded-xl border border-gray-200 shadow-sm bg-white\">\n      <table className=\"min-w-full divide-y divide-gray-200\">\n        <thead className=\"bg-gradient-to-r from-rose-50 to-pink-50\">\n          <tr>\n            <th className=\"px-6 py-3 text-left text-xs font-medium text-rose-600 uppercase tracking-wider\">Teacher</th>\n            <th className=\"px-6 py-3 text-left text-xs font-medium text-rose-600 uppercase tracking-wider\">Subject</th>\n            <th className=\"px-6 py-3 text-left text-xs font-medium text-rose-600 uppercase tracking-wider\">Class</th>\n            <th className=\"px-6 py-3 text-left text-xs font-medium text-rose-600 uppercase tracking-wider\">Academic Year</th>\n            <th className=\"px-6 py-3 text-left text-xs font-medium text-rose-600 uppercase tracking-wider\">Semester</th>\n          </tr>\n        </thead>\n        <tbody className=\"bg-white divide-y divide-gray-200\">\n          {filteredAssignments.map((assign, index) => (\n            <tr key={index} className={`hover:bg-gray-50 transition-all duration-200 ${index % 2 === 0 ? 'bg-white' : 'bg-gray-25'}`}>\n              <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                <div className=\"flex items-center\">\n                  <div className=\"bg-gradient-to-br from-rose-400 to-pink-500 p-2 rounded-full mr-3\">\n                    <i className=\"fas fa-chalkboard-teacher text-white text-sm\"></i>\n                  </div>\n                  <span className=\"font-medium\">{assign.nama_guru}</span>\n                </div>\n              </td>\n              <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                <div className=\"flex items-center\">\n                  <div className={`bg-gradient-to-br ${getRandomColor(index)} p-2 rounded-lg mr-3`}>\n                    <i className={`fas ${getSubjectIcon(assign.nama_mapel)} text-white text-sm`}></i>\n                  </div>\n                  <span className=\"font-medium\">{assign.nama_mapel}</span>\n                </div>\n              </td>\n              <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800\">\n                  <i className=\"fas fa-door-open mr-1\"></i>\n                  {assign.nama_kelas}\n                </span>\n              </td>\n              <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 font-medium\">{assign.tahun_ajaran}</td>\n              <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800\">\n                  {assign.semester}\n                </span>\n              </td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n\n  const renderAssignmentsCards = () => (\n    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n      {filteredAssignments.map((assign, index) => (\n        <div key={index} className=\"bg-white rounded-xl shadow-md overflow-hidden hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1 border border-gray-100\">\n          <div className={`bg-gradient-to-r ${getRandomColor(index)} p-4`}>\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex items-center\">\n                <div className=\"bg-white/20 p-3 rounded-full mr-3\">\n                  <i className=\"fas fa-chalkboard-teacher text-white text-xl\"></i>\n                </div>\n                <div>\n                  <h3 className=\"text-white font-semibold text-lg truncate\">{assign.nama_guru}</h3>\n                  <p className=\"text-white/80 text-sm\">Teacher</p>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div className=\"p-4\">\n            <div className=\"space-y-3\">\n              <div className=\"flex items-center\">\n                <div className={`bg-gradient-to-br ${getRandomColor(index + 1)} p-2 rounded-lg mr-3`}>\n                  <i className={`fas ${getSubjectIcon(assign.nama_mapel)} text-white text-sm`}></i>\n                </div>\n                <div>\n                  <p className=\"text-sm text-gray-500\">Subject</p>\n                  <p className=\"font-medium text-gray-900\">{assign.nama_mapel}</p>\n                </div>\n              </div>\n              <div className=\"flex items-center\">\n                <div className=\"bg-gradient-to-br from-indigo-400 to-blue-500 p-2 rounded-lg mr-3\">\n                  <i className=\"fas fa-door-open text-white text-sm\"></i>\n                </div>\n                <div>\n                  <p className=\"text-sm text-gray-500\">Class</p>\n                  <p className=\"font-medium text-gray-900\">{assign.nama_kelas}</p>\n                </div>\n              </div>\n              <div className=\"flex justify-between items-center pt-2 border-t border-gray-100\">\n                <span className=\"text-xs text-gray-500\">{assign.tahun_ajaran}</span>\n                <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800\">\n                  {assign.semester}\n                </span>\n              </div>\n            </div>\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n\n  // Render grouped assignments cards\n  const renderGroupedAssignmentsCards = () => {\n    const grouped = groupedAssignments();\n    \n    return (\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n        {Object.values(grouped).map((group, index) => (\n          <div \n            key={group.teacher.id_guru} \n            className=\"bg-white rounded-xl shadow-md overflow-hidden hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1 border border-gray-100 flex flex-col h-full cursor-pointer\"\n            onClick={() => openTeacherDetail(group)}\n          >\n            <div className={`bg-gradient-to-r ${getRandomColor(index)} p-4`}>\n              <div className=\"flex items-center justify-between\">\n                <div className=\"flex items-center\">\n                  <div className=\"bg-white/20 p-3 rounded-full mr-3\">\n                    <i className=\"fas fa-chalkboard-teacher text-white text-xl\"></i>\n                  </div>\n                  <div>\n                    <div className=\"flex items-center\">\n                      <h3 className=\"text-white font-semibold text-lg mr-2\">{group.teacher.nama_guru}</h3>\n                      {group.isWaliKelas && (\n                        <span className=\"bg-yellow-400 text-yellow-900 px-2 py-1 rounded-full text-xs font-bold flex items-center\">\n                          <i className=\"fas fa-home mr-1\"></i>\n                          Wali Kelas\n                        </span>\n                      )}\n                    </div>\n                    <p className=\"text-white/80 text-sm\">ID: {group.teacher.id_guru}</p>\n                  </div>\n                </div>\n                <div className=\"bg-white/20 px-3 py-1 rounded-full\">\n                  <span className=\"text-white text-sm font-bold\">{group.assignments.length}</span>\n                </div>\n              </div>\n            </div>\n            <div className=\"p-4 flex-1 flex flex-col justify-between\">\n              <div className=\"space-y-4\">\n                <div>\n                  <p className=\"text-sm text-gray-500 mb-2\">Subjects ({group.subjects.length})</p>\n                  <div className=\"flex flex-wrap gap-1\">\n                    {group.subjects.map((subject, idx) => (\n                      <span key={idx} className=\"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-blue-100 text-blue-800\">\n                        <i className={`fas ${getSubjectIcon(subject)} mr-1`}></i>\n                        {subject}\n                      </span>\n                    ))}\n                  </div>\n                </div>\n                <div>\n                  <p className=\"text-sm text-gray-500 mb-2\">Classes ({group.classes.length})</p>\n                  <div className=\"flex flex-wrap gap-1\">\n                    {group.classes.map((kelas, idx) => (\n                      <span key={idx} className=\"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-indigo-100 text-indigo-800\">\n                        <i className=\"fas fa-door-open mr-1\"></i>\n                        {kelas}\n                      </span>\n                    ))}\n                  </div>\n                </div>\n              </div>\n              <div className=\"flex justify-between items-center pt-4 border-t border-gray-100 mt-auto\">\n                <span className=\"text-xs text-gray-500\">{group.assignments[0]?.tahun_ajaran}</span>\n                <div className=\"flex items-center\">\n                  <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800 mr-2\">\n                    {group.assignments[0]?.semester}\n                  </span>\n                  <span className=\"text-xs text-gray-400 flex items-center\">\n                    <i className=\"fas fa-eye mr-1\"></i>\n                    Click to view details\n                  </span>\n                </div>\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n    );\n  };\n\n  if (loading) {\n    return (\n      <div className=\"bg-gradient-to-br from-rose-50 to-pink-100 min-h-screen flex items-center justify-center\">\n        <div className=\"bg-white p-8 rounded-2xl shadow-xl\">\n          <div className=\"flex items-center space-x-4\">\n            <div className=\"w-8 h-8 border-4 border-rose-500 border-t-transparent rounded-full animate-spin\"></div>\n            <span className=\"text-lg font-medium text-gray-700\">Loading teacher assignment data...</span>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"bg-gradient-to-br from-rose-50 to-pink-100 min-h-screen p-8\">\n        <div className=\"max-w-4xl mx-auto\">\n          <div className=\"bg-red-50 border-l-4 border-red-500 text-red-700 p-4 rounded-lg\">\n            <div className=\"flex items-center\">\n              <i className=\"fas fa-exclamation-circle mr-2 text-xl\"></i>\n              <span className=\"font-medium\">Error: {error}</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"bg-gradient-to-br from-rose-50 to-pink-100 min-h-screen\">\n      <div className=\"container mx-auto px-4 py-8\">\n        <div className=\"bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl p-6 transition-all duration-300 hover:shadow-2xl\">\n          {/* Header */}\n          <div className=\"bg-gradient-to-r from-rose-500 to-pink-600 -m-6 mb-6 p-6 rounded-t-2xl\">\n            <div className=\"flex justify-between items-center\">\n              <div>\n                <h1 className=\"text-3xl font-bold text-white flex items-center\">\n                  <i className=\"fas fa-user-tie mr-3 text-4xl\"></i>\n                  Teacher Assignment System\n                </h1>\n                <p className=\"text-rose-100 mt-2\">Assign teachers to subjects and classes</p>\n              </div>\n              <div className=\"text-right\">\n                <div className=\"bg-white/20 rounded-lg p-3\">\n                  <p className=\"text-white text-sm\">Total Assignments</p>\n                  <p className=\"text-2xl font-bold text-white\">{assignments.length}</p>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Stats Cards */}\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\">\n            <div className=\"bg-gradient-to-r from-rose-400 to-pink-500 rounded-xl p-6 text-white\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <p className=\"text-rose-100 text-sm\">Teachers</p>\n                  <p className=\"text-2xl font-bold\">{teachers.length}</p>\n                </div>\n                <div className=\"bg-white/20 p-3 rounded-full\">\n                  <i className=\"fas fa-chalkboard-teacher text-2xl\"></i>\n                </div>\n              </div>\n            </div>\n            <div className=\"bg-gradient-to-r from-orange-400 to-amber-500 rounded-xl p-6 text-white\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <p className=\"text-orange-100 text-sm\">Subjects</p>\n                  <p className=\"text-2xl font-bold\">{mataPelajaran.length}</p>\n                </div>\n                <div className=\"bg-white/20 p-3 rounded-full\">\n                  <i className=\"fas fa-book text-2xl\"></i>\n                </div>\n              </div>\n            </div>\n            <div className=\"bg-gradient-to-r from-emerald-400 to-cyan-500 rounded-xl p-6 text-white\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <p className=\"text-emerald-100 text-sm\">Classes</p>\n                  <p className=\"text-2xl font-bold\">{kelas.length}</p>\n                </div>\n                <div className=\"bg-white/20 p-3 rounded-full\">\n                  <i className=\"fas fa-door-open text-2xl\"></i>\n                </div>\n              </div>\n            </div>\n            <div className=\"bg-gradient-to-r from-blue-400 to-indigo-500 rounded-xl p-6 text-white\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <p className=\"text-blue-100 text-sm\">Assignments</p>\n                  <p className=\"text-2xl font-bold\">{assignments.length}</p>\n                </div>\n                <div className=\"bg-white/20 p-3 rounded-full\">\n                  <i className=\"fas fa-tasks text-2xl\"></i>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Message Display */}\n          {message && (\n            <div className={`p-4 mb-6 rounded-lg transition-all duration-300 ease-in-out border-l-4 ${\n              messageType === 'success' \n                ? 'bg-green-50 border-green-500 text-green-700' \n                : 'bg-red-50 border-red-500 text-red-700'\n            }`}>\n              <i className={`fas ${messageType === 'success' ? 'fa-check-circle' : 'fa-exclamation-circle'} mr-2`}></i>\n              {message}\n            </div>\n          )}\n\n          {/* Active Semester Info */}\n          {activeTASemester ? (\n            <div className=\"bg-gradient-to-r from-indigo-50 to-purple-50 p-4 rounded-xl border border-indigo-200 mb-6\">\n              <div className=\"flex items-center\">\n                <div className=\"bg-indigo-500 p-3 rounded-full mr-4\">\n                  <i className=\"fas fa-calendar-alt text-white text-xl\"></i>\n                </div>\n                <div>\n                  <h3 className=\"text-lg font-semibold text-gray-800\">Active Academic Term</h3>\n                  <p className=\"text-indigo-600 font-medium\">{activeTASemester.tahun_ajaran} - {activeTASemester.semester}</p>\n                </div>\n              </div>\n            </div>\n          ) : (\n            <div className=\"bg-yellow-50 border-l-4 border-yellow-500 text-yellow-700 p-4 mb-6 rounded-lg\">\n              <div className=\"flex items-center\">\n                <i className=\"fas fa-exclamation-triangle mr-2 text-xl\"></i>\n                <span className=\"font-medium\">Please set an active Academic Year & Semester first.</span>\n              </div>\n            </div>\n          )}\n\n          {teachers.length > 0 && mataPelajaran.length > 0 && kelas.length > 0 ? (\n            <div className=\"space-y-8\">\n              {/* Assignment Form */}\n              <div className=\"bg-gradient-to-r from-rose-50 to-pink-50 p-6 rounded-xl border border-rose-100\">\n                <h3 className=\"text-2xl font-bold text-gray-800 mb-6 flex items-center\">\n                  <i className=\"fas fa-user-plus mr-3 text-rose-500 text-3xl\"></i>\n                  <span className=\"bg-gradient-to-r from-rose-600 to-pink-600 bg-clip-text text-transparent\">\n                    Assign Teacher\n                  </span>\n                </h3>\n\n                <form onSubmit={handleAssignGuru} className=\"space-y-6\">\n                  <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n                    {/* Teacher Selection */}\n                    <div className=\"relative\">\n                      <select \n                        value={selectedGuruId} \n                        onChange={(e) => setSelectedGuruId(parseInt(e.target.value))}\n                        className=\"w-full px-4 py-3 bg-white border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-rose-500 appearance-none\"\n                      >\n                        {teachers.map(t => (\n                          <option key={t.id_guru} value={t.id_guru}>{t.nama_guru}</option>\n                        ))}\n                      </select>\n                      <label className=\"absolute -top-2 left-3 bg-white px-1 text-sm text-gray-600 font-medium\">\n                        Select Teacher\n                      </label>\n                      <i className=\"fas fa-chalkboard-teacher absolute right-3 top-4 text-gray-400\"></i>\n                    </div>\n\n                    {/* Subject Selection */}\n                    <div className=\"relative\">\n                      <select \n                        value={selectedMapelId} \n                        onChange={(e) => setSelectedMapelId(parseInt(e.target.value))}\n                        className=\"w-full px-4 py-3 bg-white border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-rose-500 appearance-none\"\n                      >\n                        {mataPelajaran.map(mp => (\n                          <option key={mp.id_mapel} value={mp.id_mapel}>{mp.nama_mapel}</option>\n                        ))}\n                      </select>\n                      <label className=\"absolute -top-2 left-3 bg-white px-1 text-sm text-gray-600 font-medium\">\n                        Select Subject\n                      </label>\n                      <i className=\"fas fa-book absolute right-3 top-4 text-gray-400\"></i>\n                    </div>\n\n                    {/* Class Selection */}\n                    <div className=\"relative\">\n                      <select \n                        value={selectedKelasId} \n                        onChange={(e) => setSelectedKelasId(parseInt(e.target.value))}\n                        className=\"w-full px-4 py-3 bg-white border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-rose-500 appearance-none\"\n                      >\n                        {kelas.map(k => (\n                          <option key={k.id_kelas} value={k.id_kelas}>{k.nama_kelas}</option>\n                        ))}\n                      </select>\n                      <label className=\"absolute -top-2 left-3 bg-white px-1 text-sm text-gray-600 font-medium\">\n                        Select Class\n                      </label>\n                      <i className=\"fas fa-door-open absolute right-3 top-4 text-gray-400\"></i>\n                    </div>\n                  </div>\n\n                  {/* Assignment Preview */}\n                  {selectedTeacher && selectedSubject && selectedClass && (\n                    <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\n                      <h4 className=\"text-sm font-medium text-gray-700 mb-3\">Assignment Preview:</h4>\n                      <div className=\"flex flex-wrap items-center gap-4\">\n                        <div className=\"flex items-center\">\n                          <div className=\"bg-gradient-to-br from-rose-400 to-pink-500 p-2 rounded-full mr-2\">\n                            <i className=\"fas fa-chalkboard-teacher text-white text-sm\"></i>\n                          </div>\n                          <span className=\"text-sm font-medium\">{selectedTeacher.nama_guru}</span>\n                        </div>\n                        <i className=\"fas fa-arrow-right text-gray-400\"></i>\n                        <div className=\"flex items-center\">\n                          <div className=\"bg-gradient-to-br from-orange-400 to-amber-500 p-2 rounded-lg mr-2\">\n                            <i className={`fas ${getSubjectIcon(selectedSubject.nama_mapel)} text-white text-sm`}></i>\n                          </div>\n                          <span className=\"text-sm font-medium\">{selectedSubject.nama_mapel}</span>\n                        </div>\n                        <i className=\"fas fa-arrow-right text-gray-400\"></i>\n                        <div className=\"flex items-center\">\n                          <div className=\"bg-gradient-to-br from-indigo-400 to-blue-500 p-2 rounded-lg mr-2\">\n                            <i className=\"fas fa-door-open text-white text-sm\"></i>\n                          </div>\n                          <span className=\"text-sm font-medium\">{selectedClass.nama_kelas}</span>\n                        </div>\n                      </div>\n                    </div>\n                  )}\n\n                  <button\n                    type=\"submit\"\n                    disabled={!activeTASemester || isAssigning}\n                    className=\"w-full md:w-auto flex items-center justify-center px-8 py-3 bg-gradient-to-r from-rose-500 to-pink-600 text-white rounded-lg hover:from-rose-600 hover:to-pink-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 transform hover:-translate-y-0.5 font-semibold shadow-lg\"\n                  >\n                    {isAssigning ? (\n                      <>\n                        <div className=\"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-3\"></div>\n                        Assigning Teacher...\n                      </>\n                    ) : (\n                      <>\n                        <i className=\"fas fa-user-plus mr-3 text-lg\"></i>\n                        Assign Teacher\n                      </>\n                    )}\n                  </button>\n                </form>\n              </div>\n\n              {/* Assignments List */}\n              <div>\n                <div className=\"flex flex-col md:flex-row md:items-center md:justify-between mb-6\">\n                  <h3 className=\"text-2xl font-bold text-gray-800 flex items-center\">\n                    <i className=\"fas fa-list-check mr-3 text-pink-500 text-3xl\"></i>\n                    <span className=\"bg-gradient-to-r from-pink-600 to-rose-600 bg-clip-text text-transparent\">\n                      Teacher Assignments\n                    </span>\n                  </h3>\n                  \n                  <div className=\"flex space-x-3 mt-3 md:mt-0\">\n                    <div className=\"relative\">\n                      <input \n                        type=\"text\" \n                        value={searchTerm}\n                        onChange={(e) => setSearchTerm(e.target.value)}\n                        placeholder=\"Search assignments...\" \n                        className=\"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-rose-500\"\n                      />\n                      <i className=\"fas fa-search absolute left-3 top-3 text-gray-400\"></i>\n                    </div>\n                    \n                    <div className=\"flex bg-gray-100 rounded-lg p-1\">\n                      <button \n                        onClick={() => setViewMode('grouped')}\n                        className={`px-3 py-1 rounded-md transition-all duration-200 ${viewMode === 'grouped' ? 'bg-white shadow-sm text-rose-600' : 'text-gray-600'}`}\n                        title=\"Grouped View\"\n                      >\n                        <i className=\"fas fa-users\"></i>\n                      </button>\n                      <button \n                        onClick={() => setViewMode('table')}\n                        className={`px-3 py-1 rounded-md transition-all duration-200 ${viewMode === 'table' ? 'bg-white shadow-sm text-rose-600' : 'text-gray-600'}`}\n                        title=\"Table View\"\n                      >\n                        <i className=\"fas fa-table\"></i>\n                      </button>\n                      <button \n                        onClick={() => setViewMode('card')}\n                        className={`px-3 py-1 rounded-md transition-all duration-200 ${viewMode === 'card' ? 'bg-white shadow-sm text-rose-600' : 'text-gray-600'}`}\n                        title=\"Card View\"\n                      >\n                        <i className=\"fas fa-th-large\"></i>\n                      </button>\n                    </div>\n                  </div>\n                </div>\n\n                {filteredAssignments.length > 0 ? (\n                  viewMode === 'grouped' ? renderGroupedAssignmentsCards() : \n                  viewMode === 'table' ? renderAssignmentsTable() : renderAssignmentsCards()\n                ) : (\n                  <div className=\"text-center py-12 bg-gray-50 rounded-xl border-2 border-dashed border-gray-300\">\n                    <div className=\"inline-block p-6 bg-gray-100 rounded-full mb-4\">\n                      <i className=\"fas fa-clipboard-list text-4xl text-gray-400\"></i>\n                    </div>\n                    <h5 className=\"text-lg font-medium text-gray-700 mb-2\">\n                      {searchTerm ? 'No Assignments Match Search' : 'No Teacher Assignments'}\n                    </h5>\n                    <p className=\"text-gray-500\">\n                      {searchTerm \n                        ? `No assignments match your search for \"${searchTerm}\".`\n                        : 'No teacher assignments are registered for the active semester.'\n                      }\n                    </p>\n                  </div>\n                )}\n              </div>\n            </div>\n          ) : (\n            <div className=\"text-center py-12\">\n              <div className=\"inline-block p-6 bg-yellow-50 rounded-full mb-4\">\n                <i className=\"fas fa-exclamation-triangle text-4xl text-yellow-400\"></i>\n              </div>\n              <h5 className=\"text-lg font-medium text-gray-700 mb-2\">Missing Required Data</h5>\n              <p className=\"text-gray-500\">Make sure Teachers, Subjects, and Classes are registered and an Active Academic Year/Semester is set.</p>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Teacher Detail Modal */}\n      {showDetailModal && selectedTeacherDetail && (\n        <div className={`fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 transition-all duration-200 ease-in-out ${\n          isDetailModalClosing ? 'animate-fadeOut' : 'animate-fadeIn'\n        }`}>\n          <div className={`bg-white rounded-2xl shadow-2xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto transform transition-all duration-200 ease-out ${\n            isDetailModalClosing ? 'animate-slideOutDown' : 'animate-slideInUp'\n          }`}>\n            {/* Modal Header */}\n            <div className=\"bg-gradient-to-r from-rose-500 to-pink-600 p-6 rounded-t-2xl\">\n              <div className=\"flex items-center justify-between\">\n                <div className=\"flex items-center\">\n                  <div className=\"bg-white/20 p-3 rounded-full mr-4\">\n                    <i className=\"fas fa-chalkboard-teacher text-white text-2xl\"></i>\n                  </div>\n                  <div>\n                    <div className=\"flex items-center\">\n                      <h2 className=\"text-2xl font-bold text-white mr-3\">{selectedTeacherDetail.teacher.nama_guru}</h2>\n                      {selectedTeacherDetail.isWaliKelas && (\n                        <span className=\"bg-yellow-400 text-yellow-900 px-3 py-1 rounded-full text-sm font-bold flex items-center\">\n                          <i className=\"fas fa-home mr-2\"></i>\n                          Wali Kelas\n                        </span>\n                      )}\n                    </div>\n                    <p className=\"text-white/80\">Teacher ID: {selectedTeacherDetail.teacher.id_guru}</p>\n                    <p className=\"text-white/80\">Total Assignments: {selectedTeacherDetail.assignments.length}</p>\n                  </div>\n                </div>\n                <div className=\"flex items-center space-x-2\">\n                  <button \n                    onClick={toggleEditMode}\n                    className={`${editMode ? 'bg-red-400 hover:bg-red-500' : 'bg-blue-400 hover:bg-blue-500'} text-white px-3 py-1 rounded-lg transition-colors duration-200 flex items-center`}\n                    title={editMode ? \"Cancel Edit\" : \"Edit Assignments\"}\n                  >\n                    <i className={`fas ${editMode ? 'fa-times' : 'fa-edit'} mr-1`}></i>\n                    {editMode ? 'Cancel' : 'Edit'}\n                  </button>\n                  <button \n                    onClick={closeModal}\n                    className=\"bg-white/20 hover:bg-white/30 p-2 rounded-full transition-colors duration-200\"\n                  >\n                    <i className=\"fas fa-times text-white text-xl\"></i>\n                  </button>\n                </div>\n              </div>\n            </div>\n\n            {/* Modal Content */}\n            <div className=\"p-6\">\n              <h3 className=\"text-xl font-semibold text-gray-800 mb-4 flex items-center\">\n                <i className=\"fas fa-list-ul mr-2 text-rose-500\"></i>\n                Subject-Class Assignments\n              </h3>\n              \n              <div className=\"space-y-4\">\n                {Object.values(getClassSubjectMapping(selectedTeacherDetail.assignments)).map((classData) => (\n                  <div key={classData.kelas} className=\"bg-gray-50 rounded-xl p-4 border border-gray-200\">\n                    <div className=\"flex items-center justify-between mb-3\">\n                      <div className=\"flex items-center\">\n                        <div className=\"bg-gradient-to-r from-indigo-500 to-purple-600 p-3 rounded-lg mr-4\">\n                          <i className=\"fas fa-door-open text-white text-lg\"></i>\n                        </div>\n                        <div>\n                          <h4 className=\"font-semibold text-gray-800 text-lg\">{classData.kelas}</h4>\n                          <p className=\"text-gray-500 text-sm\">{classData.tahun_ajaran} - {classData.semester}</p>\n                          <p className=\"text-gray-400 text-xs\">{classData.subjects.length} subject{classData.subjects.length > 1 ? 's' : ''}</p>\n                        </div>\n                      </div>\n                    </div>\n                    \n                    {/* Subject badges */}\n                    <div className=\"ml-16\">\n                      <div className=\"flex flex-wrap gap-2\">\n                        {classData.subjects.map((subjectData, idx) => (\n                          <div key={idx} className=\"relative group\">\n                            <div className=\"bg-white border border-gray-300 rounded-lg px-3 py-2 flex items-center space-x-2 hover:shadow-md transition-all duration-200\">\n                              <div className=\"bg-gradient-to-r from-blue-500 to-indigo-600 p-1.5 rounded-md\">\n                                <i className={`fas ${getSubjectIcon(subjectData.nama_mapel)} text-white text-xs`}></i>\n                              </div>\n                              <span className=\"text-sm font-medium text-gray-700\">{subjectData.nama_mapel}</span>\n                              \n                              {editMode && (\n                                <button\n                                  onClick={(e) => {\n                                    e.preventDefault();\n                                    e.stopPropagation();\n                                    handleDeleteAssignment(subjectData.assignment);\n                                  }}\n                                  className=\"bg-red-500 hover:bg-red-600 text-white p-1 rounded-md ml-2 opacity-0 group-hover:opacity-100 transition-opacity duration-200\"\n                                  title=\"Delete this assignment\"\n                                >\n                                  <i className=\"fas fa-trash text-xs\"></i>\n                                </button>\n                              )}\n                            </div>\n                          </div>\n                        ))}\n                      </div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n\n              {/* Summary Statistics */}\n              <div className=\"mt-6 bg-gradient-to-r from-rose-50 to-pink-50 rounded-xl p-4 border border-rose-200\">\n                <h4 className=\"font-semibold text-gray-800 mb-3 flex items-center\">\n                  <i className=\"fas fa-chart-bar mr-2 text-rose-500\"></i>\n                  Teaching Summary\n                </h4>\n                <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n                  <div className=\"text-center\">\n                    <div className=\"bg-blue-100 p-3 rounded-lg mb-2\">\n                      <i className=\"fas fa-book text-blue-600 text-xl\"></i>\n                    </div>\n                    <p className=\"text-2xl font-bold text-blue-600\">{selectedTeacherDetail.subjects.length}</p>\n                    <p className=\"text-sm text-gray-600\">Subject{selectedTeacherDetail.subjects.length > 1 ? 's' : ''}</p>\n                  </div>\n                  <div className=\"text-center\">\n                    <div className=\"bg-indigo-100 p-3 rounded-lg mb-2\">\n                      <i className=\"fas fa-door-open text-indigo-600 text-xl\"></i>\n                    </div>\n                    <p className=\"text-2xl font-bold text-indigo-600\">{selectedTeacherDetail.classes.length}</p>\n                    <p className=\"text-sm text-gray-600\">Class{selectedTeacherDetail.classes.length > 1 ? 'es' : ''}</p>\n                  </div>\n                  <div className=\"text-center\">\n                    <div className=\"bg-green-100 p-3 rounded-lg mb-2\">\n                      <i className=\"fas fa-tasks text-green-600 text-xl\"></i>\n                    </div>\n                    <p className=\"text-2xl font-bold text-green-600\">{selectedTeacherDetail.assignments.length}</p>\n                    <p className=\"text-sm text-gray-600\">Assignment{selectedTeacherDetail.assignments.length > 1 ? 's' : ''}</p>\n                  </div>\n                  <div className=\"text-center\">\n                    <div className=\"bg-purple-100 p-3 rounded-lg mb-2\">\n                      <i className=\"fas fa-calendar text-purple-600 text-xl\"></i>\n                    </div>\n                    <p className=\"text-2xl font-bold text-purple-600\">{selectedTeacherDetail.assignments[0]?.semester}</p>\n                    <p className=\"text-sm text-gray-600\">Semester</p>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            {/* Modal Footer */}\n            <div className=\"bg-gray-50 px-6 py-4 rounded-b-2xl\">\n              <div className=\"flex justify-end\">\n                <button \n                  onClick={closeModal}\n                  className=\"bg-gradient-to-r from-gray-500 to-gray-600 hover:from-gray-600 hover:to-gray-700 text-white px-6 py-2 rounded-lg transition-all duration-200 flex items-center\"\n                >\n                  <i className=\"fas fa-times mr-2\"></i>\n                  Close\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Delete Confirmation Dialog */}\n      {showDeleteConfirm && assignmentToDelete && (\n        <div \n          className={`fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center transition-all duration-300 ease-in-out ${\n            isDeleteConfirmClosing ? 'animate-fadeOut' : 'animate-fadeIn'\n          }`}\n          style={{zIndex: 9999}}\n        >\n          <div className={`bg-white rounded-2xl shadow-2xl max-w-md w-full mx-4 transform transition-all duration-300 ease-out ${\n            isDeleteConfirmClosing ? 'animate-slideOutDown' : 'animate-slideInUp'\n          }`}>\n            {/* Confirmation Header */}\n            <div className=\"bg-gradient-to-r from-red-500 to-red-600 p-6 rounded-t-2xl\">\n              <div className=\"flex items-center\">\n                <div className=\"bg-white/20 p-3 rounded-full mr-4\">\n                  <i className=\"fas fa-exclamation-triangle text-white text-2xl\"></i>\n                </div>\n                <div>\n                  <h2 className=\"text-xl font-bold text-white\">Confirm Delete Assignment</h2>\n                  <p className=\"text-white/80 text-sm\">This action cannot be undone</p>\n                </div>\n              </div>\n            </div>\n\n            {/* Confirmation Content */}\n            <div className=\"p-6\">\n              <div className=\"mb-4\">\n                <p className=\"text-gray-700 mb-3\">Are you sure you want to delete this assignment?</p>\n                \n                <div className=\"bg-gray-50 p-4 rounded-lg border border-gray-200\">\n                  <div className=\"grid grid-cols-2 gap-3 text-sm\">\n                    <div>\n                      <span className=\"font-medium text-gray-600\">Teacher:</span>\n                      <p className=\"text-gray-800\">{selectedTeacherDetail?.teacher.nama_guru}</p>\n                    </div>\n                    <div>\n                      <span className=\"font-medium text-gray-600\">Subject:</span>\n                      <p className=\"text-gray-800\">{assignmentToDelete.nama_mapel}</p>\n                    </div>\n                    <div>\n                      <span className=\"font-medium text-gray-600\">Class:</span>\n                      <p className=\"text-gray-800\">{assignmentToDelete.nama_kelas}</p>\n                    </div>\n                    <div>\n                      <span className=\"font-medium text-gray-600\">Semester:</span>\n                      <p className=\"text-gray-800\">{assignmentToDelete.tahun_ajaran} - {assignmentToDelete.semester}</p>\n                    </div>\n                  </div>\n                </div>\n\n                {message && messageType === 'error' && (\n                  <div className=\"mt-3 p-3 bg-red-50 border border-red-200 rounded-lg\">\n                    <p className=\"text-red-700 text-sm flex items-center\">\n                      <i className=\"fas fa-exclamation-circle mr-2\"></i>\n                      {message}\n                    </p>\n                  </div>\n                )}\n              </div>\n            </div>\n\n            {/* Confirmation Footer */}\n            <div className=\"bg-gray-50 px-6 py-4 rounded-b-2xl flex justify-end space-x-3\">\n              <button \n                onClick={closeDeleteConfirmModal}\n                className=\"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg transition-colors duration-200 flex items-center\"\n              >\n                <i className=\"fas fa-times mr-2\"></i>\n                Cancel\n              </button>\n              <button \n                onClick={confirmDeleteAssignment}\n                className=\"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-colors duration-200 flex items-center\"\n              >\n                <i className=\"fas fa-trash mr-2\"></i>\n                Delete Assignment\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default GuruMapelKelasAssignment;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}