{"ast":null,"code":"// frontend/src/features/guru/rekapNilai.js\nimport React,{useState,useEffect}from'react';import*as guruApi from'../../api/guru';import*as adminApi from'../../api/admin';// Perlu getTipeNilai dari adminApi\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const RekapNilai=_ref=>{let{activeTASemester,userId}=_ref;const[assignments,setAssignments]=useState([]);const[selectedAssignment,setSelectedAssignment]=useState('');const[rekapNilai,setRekapNilai]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[message,setMessage]=useState('');const[messageType,setMessageType]=useState('');const fetchData=async()=>{setLoading(true);setError(null);try{if(!userId||!activeTASemester){setError(\"Informasi guru atau tahun ajaran aktif tidak tersedia.\");return;}const assignmentsData=await guruApi.getGuruAssignments(userId,activeTASemester.id_ta_semester);setAssignments(assignmentsData);if(assignmentsData.length>0&&!selectedAssignment){setSelectedAssignment(\"\".concat(assignmentsData[0].id_kelas,\"-\").concat(assignmentsData[0].id_mapel));}}catch(err){setError(err.message);}finally{setLoading(false);}};const fetchRekap=async()=>{if(selectedAssignment&&activeTASemester&&userId){const[kelasId,mapelId]=selectedAssignment.split('-').map(Number);try{const data=await guruApi.getRekapNilai(userId,mapelId,kelasId,activeTASemester.id_ta_semester);setRekapNilai(data);}catch(err){setError(err.message);setRekapNilai([]);}}else{setRekapNilai([]);}};useEffect(()=>{fetchData();},[activeTASemester,userId]);useEffect(()=>{fetchRekap();},[selectedAssignment,activeTASemester,userId]);if(loading)return/*#__PURE__*/_jsx(\"p\",{children:\"Memuat data rekap nilai...\"});if(error)return/*#__PURE__*/_jsxs(\"p\",{className:\"message error\",children:[\"Error: \",error]});const currentAssignment=assignments.find(assign=>\"\".concat(assign.id_kelas,\"-\").concat(assign.id_mapel)===selectedAssignment);// Mengolah data rekap untuk tampilan tabel pivot\nconst processedRekap={};const gradeTypes=new Set();rekapNilai.forEach(item=>{if(!processedRekap[item.nama_siswa]){processedRekap[item.nama_siswa]={id_siswa:item.id_siswa,nama_siswa:item.nama_siswa};}// Create column name based on jenis_nilai and urutan_tp\nlet columnName;if(item.jenis_nilai==='TP'){columnName=\"TP\".concat(item.urutan_tp);}else if(item.jenis_nilai==='UAS'){columnName='UAS';}else{columnName=item.jenis_nilai;// fallback\n}processedRekap[item.nama_siswa][columnName]=item.nilai;gradeTypes.add(columnName);});const uniqueGradeTypes=Array.from(gradeTypes).sort((a,b)=>{// Custom sort: TP1, TP2, TP3, ..., UAS\nif(a.startsWith('TP')&&b.startsWith('TP')){const numA=parseInt(a.substring(2));const numB=parseInt(b.substring(2));return numA-numB;}else if(a.startsWith('TP')&&b==='UAS'){return-1;// TP comes before UAS\n}else if(a==='UAS'&&b.startsWith('TP')){return 1;// UAS comes after TP\n}return a.localeCompare(b);});const rekapTableData=Object.values(processedRekap);return/*#__PURE__*/_jsxs(\"div\",{className:\"feature-content\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Rekap Nilai Siswa\"}),message&&/*#__PURE__*/_jsx(\"div\",{className:\"message \".concat(messageType),children:message}),!activeTASemester&&/*#__PURE__*/_jsx(\"p\",{className:\"message warning\",children:\"Tahun Ajaran & Semester aktif belum diatur. Harap hubungi Admin.\"}),assignments.length>0?/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Pilih Kelas dan Mata Pelajaran:\"}),/*#__PURE__*/_jsx(\"select\",{value:selectedAssignment,onChange:e=>setSelectedAssignment(e.target.value),children:assignments.map(assign=>/*#__PURE__*/_jsxs(\"option\",{value:\"\".concat(assign.id_kelas,\"-\").concat(assign.id_mapel),children:[assign.nama_kelas,\" - \",assign.nama_mapel]},\"\".concat(assign.id_kelas,\"-\").concat(assign.id_mapel)))})]}):/*#__PURE__*/_jsx(\"p\",{className:\"message warning\",children:\"Anda belum ditugaskan mengajar mata pelajaran di kelas manapun untuk semester aktif ini. Silakan hubungi Admin.\"}),currentAssignment&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Rekap Nilai \",currentAssignment.nama_mapel,\" di Kelas \",currentAssignment.nama_kelas]}),rekapTableData.length>0?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"table\",{className:\"data-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Nama Siswa\"}),uniqueGradeTypes.map(tipe=>/*#__PURE__*/_jsx(\"th\",{children:tipe},tipe)),/*#__PURE__*/_jsx(\"th\",{children:\"Nilai Akhir\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:rekapTableData.map(row=>{// Calculate TP average\nconst tpGrades=uniqueGradeTypes.filter(tipe=>tipe.startsWith('TP')).map(tipe=>row[tipe]).filter(n=>typeof n==='number');const tpAverage=tpGrades.length>0?tpGrades.reduce((sum,n)=>sum+n,0)/tpGrades.length:0;// Get UAS value\nconst uasValue=row['UAS'];// Calculate final grade (70% TP + 30% UAS)\nlet finalGrade='-';if(tpGrades.length>0&&typeof uasValue==='number'){finalGrade=(tpAverage*0.7+uasValue*0.3).toFixed(2);}return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:row.nama_siswa}),uniqueGradeTypes.map(tipe=>/*#__PURE__*/_jsx(\"td\",{children:typeof row[tipe]==='number'?row[tipe]:'-'},tipe)),/*#__PURE__*/_jsx(\"td\",{children:finalGrade})]},row.id_siswa);})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"calculation-info\",children:/*#__PURE__*/_jsxs(\"small\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Keterangan:\"}),\" Nilai Akhir = 70% rata-rata TP + 30% UAS\"]})})]}):/*#__PURE__*/_jsx(\"p\",{children:\"Belum ada nilai yang diinput untuk kombinasi ini.\"})]})]});};export default RekapNilai;","map":{"version":3,"names":["React","useState","useEffect","guruApi","adminApi","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","RekapNilai","_ref","activeTASemester","userId","assignments","setAssignments","selectedAssignment","setSelectedAssignment","rekapNilai","setRekapNilai","loading","setLoading","error","setError","message","setMessage","messageType","setMessageType","fetchData","assignmentsData","getGuruAssignments","id_ta_semester","length","concat","id_kelas","id_mapel","err","fetchRekap","kelasId","mapelId","split","map","Number","data","getRekapNilai","children","className","currentAssignment","find","assign","processedRekap","gradeTypes","Set","forEach","item","nama_siswa","id_siswa","columnName","jenis_nilai","urutan_tp","nilai","add","uniqueGradeTypes","Array","from","sort","a","b","startsWith","numA","parseInt","substring","numB","localeCompare","rekapTableData","Object","values","value","onChange","e","target","nama_kelas","nama_mapel","tipe","row","tpGrades","filter","n","tpAverage","reduce","sum","uasValue","finalGrade","toFixed"],"sources":["C:/Users/Han/Desktop/sinfomik/backup5/backup5/frontend/src/features/guru/rekapNilai.js"],"sourcesContent":["// frontend/src/features/guru/rekapNilai.js\nimport React, { useState, useEffect } from 'react';\nimport * as guruApi from '../../api/guru';\nimport * as adminApi from '../../api/admin'; // Perlu getTipeNilai dari adminApi\n\nconst RekapNilai = ({ activeTASemester, userId }) => {\n  const [assignments, setAssignments] = useState([]);\n  const [selectedAssignment, setSelectedAssignment] = useState('');\n  const [rekapNilai, setRekapNilai] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [message, setMessage] = useState('');\n  const [messageType, setMessageType] = useState('');\n\n  const fetchData = async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      if (!userId || !activeTASemester) {\n        setError(\"Informasi guru atau tahun ajaran aktif tidak tersedia.\");\n        return;\n      }\n      const assignmentsData = await guruApi.getGuruAssignments(userId, activeTASemester.id_ta_semester);\n      setAssignments(assignmentsData);\n\n      if (assignmentsData.length > 0 && !selectedAssignment) {\n        setSelectedAssignment(`${assignmentsData[0].id_kelas}-${assignmentsData[0].id_mapel}`);\n      }\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchRekap = async () => {\n    if (selectedAssignment && activeTASemester && userId) {\n      const [kelasId, mapelId] = selectedAssignment.split('-').map(Number);\n      try {\n        const data = await guruApi.getRekapNilai(userId, mapelId, kelasId, activeTASemester.id_ta_semester);\n        setRekapNilai(data);\n      } catch (err) {\n        setError(err.message);\n        setRekapNilai([]);\n      }\n    } else {\n      setRekapNilai([]);\n    }\n  };\n\n  useEffect(() => {\n    fetchData();\n  }, [activeTASemester, userId]);\n\n  useEffect(() => {\n    fetchRekap();\n  }, [selectedAssignment, activeTASemester, userId]);\n\n  if (loading) return <p>Memuat data rekap nilai...</p>;\n  if (error) return <p className=\"message error\">Error: {error}</p>;\n\n  const currentAssignment = assignments.find(\n    assign => `${assign.id_kelas}-${assign.id_mapel}` === selectedAssignment\n  );\n\n  // Mengolah data rekap untuk tampilan tabel pivot\n  const processedRekap = {};\n  const gradeTypes = new Set();\n  rekapNilai.forEach(item => {\n    if (!processedRekap[item.nama_siswa]) {\n      processedRekap[item.nama_siswa] = { id_siswa: item.id_siswa, nama_siswa: item.nama_siswa };\n    }\n    \n    // Create column name based on jenis_nilai and urutan_tp\n    let columnName;\n    if (item.jenis_nilai === 'TP') {\n      columnName = `TP${item.urutan_tp}`;\n    } else if (item.jenis_nilai === 'UAS') {\n      columnName = 'UAS';\n    } else {\n      columnName = item.jenis_nilai; // fallback\n    }\n    \n    processedRekap[item.nama_siswa][columnName] = item.nilai;\n    gradeTypes.add(columnName);\n  });\n\n  const uniqueGradeTypes = Array.from(gradeTypes).sort((a, b) => {\n    // Custom sort: TP1, TP2, TP3, ..., UAS\n    if (a.startsWith('TP') && b.startsWith('TP')) {\n      const numA = parseInt(a.substring(2));\n      const numB = parseInt(b.substring(2));\n      return numA - numB;\n    } else if (a.startsWith('TP') && b === 'UAS') {\n      return -1; // TP comes before UAS\n    } else if (a === 'UAS' && b.startsWith('TP')) {\n      return 1; // UAS comes after TP\n    }\n    return a.localeCompare(b);\n  });\n  const rekapTableData = Object.values(processedRekap);\n\n  return (\n    <div className=\"feature-content\">\n      <h2>Rekap Nilai Siswa</h2>\n      {message && <div className={`message ${messageType}`}>{message}</div>}\n\n      {!activeTASemester && <p className=\"message warning\">Tahun Ajaran & Semester aktif belum diatur. Harap hubungi Admin.</p>}\n\n      {assignments.length > 0 ? (\n        <div className=\"form-group\">\n          <label>Pilih Kelas dan Mata Pelajaran:</label>\n          <select value={selectedAssignment} onChange={(e) => setSelectedAssignment(e.target.value)}>\n            {assignments.map(assign => (\n              <option key={`${assign.id_kelas}-${assign.id_mapel}`} value={`${assign.id_kelas}-${assign.id_mapel}`}>\n                {assign.nama_kelas} - {assign.nama_mapel}\n              </option>\n            ))}\n          </select>\n        </div>\n      ) : (\n        <p className=\"message warning\">Anda belum ditugaskan mengajar mata pelajaran di kelas manapun untuk semester aktif ini. Silakan hubungi Admin.</p>\n      )}\n\n      {currentAssignment && (\n        <>\n          <h3>Rekap Nilai {currentAssignment.nama_mapel} di Kelas {currentAssignment.nama_kelas}</h3>\n          {rekapTableData.length > 0 ? (\n            <>\n              <table className=\"data-table\">\n                <thead>\n                  <tr>\n                    <th>Nama Siswa</th>\n                    {uniqueGradeTypes.map(tipe => (\n                      <th key={tipe}>{tipe}</th>\n                    ))}\n                    <th>Nilai Akhir</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {rekapTableData.map(row => {\n                    // Calculate TP average\n                    const tpGrades = uniqueGradeTypes\n                      .filter(tipe => tipe.startsWith('TP'))\n                      .map(tipe => row[tipe])\n                      .filter(n => typeof n === 'number');\n                    const tpAverage = tpGrades.length > 0 ? tpGrades.reduce((sum, n) => sum + n, 0) / tpGrades.length : 0;\n                    \n                    // Get UAS value\n                    const uasValue = row['UAS'];\n                    \n                    // Calculate final grade (70% TP + 30% UAS)\n                    let finalGrade = '-';\n                    if (tpGrades.length > 0 && typeof uasValue === 'number') {\n                      finalGrade = (tpAverage * 0.7 + uasValue * 0.3).toFixed(2);\n                    }\n                    \n                    return (\n                      <tr key={row.id_siswa}>\n                        <td>{row.nama_siswa}</td>\n                        {uniqueGradeTypes.map(tipe => (\n                          <td key={tipe}>{typeof row[tipe] === 'number' ? row[tipe] : '-'}</td>\n                        ))}\n                        <td>{finalGrade}</td>\n                      </tr>\n                    );\n                  })}\n                </tbody>\n              </table>\n              <div className=\"calculation-info\">\n                <small>\n                  <strong>Keterangan:</strong> Nilai Akhir = 70% rata-rata TP + 30% UAS\n                </small>\n              </div>\n            </>\n          ) : (\n            <p>Belum ada nilai yang diinput untuk kombinasi ini.</p>\n          )}\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default RekapNilai;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}